<!DOCTYPE html>
<!-- saved from url=(0037)https://zhuanlan.zhihu.com/p/24614926 -->
<html class="no-touch"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>åœ¨ MacOS Sierra ä¸Šå®‰è£… Apache å’Œå¤šä¸ªç‰ˆæœ¬çš„ PHP - æ±Ÿæ¹–å¤œé›¨åå¹´ç¯ - çŸ¥ä¹ä¸“æ </title>
    <!--<base href="/">--><base href=".">
    <meta name="fragment" content="!">
    <meta name="description" content="çŸ¥ä¹ä¸“æ ">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="address=no">
    <!--[if lt IE 9]>
      <script src="https://z1.zhimg.com/components/es5-shim/es5-shim.js"></script>
      <script src="https://z1.zhimg.com/components/html5shiv/dist/html5shiv.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
      <script src="https://z1.zhimg.com/components/json3/lib/json3.min.js"></script>
    <![endif]-->
    <script src="./install-config-php-apache_files/ga.js" async=""></script><script>document.documentElement.className += ('ontouchstart' in window) ? ' touch' : ' no-touch'</script>
    <link rel="stylesheet" href="./install-config-php-apache_files/573ac0fc.main.css">
    <meta name="baidu-site-verification" content="U9zXUx8bxm">
  </head>
  <body ng-app="columnWebApp" ng-controller="AppCtrl" ng-class="pageClass" class="ng-scope ng-animate page-post-view">
    <!--[if lt IE 8]>
    <p class="browsehappy">
      ä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ª<strong>è¿‡æ—¶</strong>çš„æµè§ˆå™¨ã€‚è¯·<a class="link" href="http://browsehappy.com">å‡çº§ä½ çš„æµè§ˆå™¨</a>ä»¥æŸ¥çœ‹æ­¤é¡µé¢ã€‚</p>
    </p>
    <![endif]-->

    <div id="header-holder">
        <!-- ngInclude: navbarTemplateUrl --><div ng-include="navbarTemplateUrl" class="ng-scope">
<header id="header" class="navbar ng-scope ng-isolate-scope sbfixed" ng-controller="NavbarCtrl" ui-scroll-back-fixed="" fixed="scrollBackFixedNavbar" style="display: block;">
  <div class="navbar-logo-container">
    <a href="https://www.zhihu.com/" target="_blank" class="logo icon-ic_zhihu_logo" aria-label="çŸ¥ä¹é¦–é¡µ"></a>
  </div>

  <div class="navbar-title-container clearfix show" ng-class="{show: showTitle}" ng-click="handleTitleClick($event)">
    <!-- ngIf: title.img --><div class="img ng-scope" ng-if="title.img">
      <!-- ngIf: !title.imghref -->
      <!-- ngIf: title.imghref --><a href="https://zhuanlan.zhihu.com/nodejh" ng-if="title.imghref" ng-attr-aria-label="{{title.ariaLabel}}" class="ng-scope" aria-label="æ±Ÿæ¹–å¤œé›¨åå¹´ç¯">
        <img class="avatar avatar-small" alt="" ng-src="https://pic3.zhimg.com/v2-c7420021e5a19c00e9efb198237f248e_l.jpg" src="./install-config-php-apache_files/v2-c7420021e5a19c00e9efb198237f248e_l.jpg">
      </a><!-- end ngIf: title.imghref -->
    </div><!-- end ngIf: title.img -->
    <div class="titles" ng-class="{oneline: !title.subtitle || !title.main}" ng-hide="!title.subtitle &amp;&amp; !title.main">
      <!-- ngIf: title.subtitle --><div class="subtitle ng-binding ng-scope" ng-if="title.subtitle" ng-bind-html="title.subtitle">é¦–å‘äº</div><!-- end ngIf: title.subtitle -->
      <!-- ngIf: title.main --><div class="main-title ng-binding ng-scope" ng-if="title.main" ng-bind-html="title.main"><a href="https://zhuanlan.zhihu.com/nodejh">æ±Ÿæ¹–å¤œé›¨åå¹´ç¯</a></div><!-- end ngIf: title.main -->
    </div>
    <!-- ngIf: title.buttons --><div class="functions ng-scope" ng-if="title.buttons">
    <button ui-follow-button="" class="btn btn-sm  ng-scope ng-isolate-scope ng-pristine ng-valid btn-grey" ng-click="column.toggleFollow()" ng-model="column.following">å·²å…³æ³¨</button></div><!-- end ngIf: title.buttons -->
    <!-- ngIf: extraStatus -->
    <!-- ngIf: extraStatus -->
    <!-- ngIf: status -->
  </div>

  <!-- ngIf: !me.authed() && me.$resolved -->

  <!-- ngIf: me.authed() --><!-- ngInclude: undefined --><ng-include src="&#39;/views/navbar/menu.html&#39;" ng-if="me.authed()" class="ng-scope">
<div ng-transclude="" class="navbar-menu-container ui-menu-button ng-scope close" ng-class="{ true: &#39;open&#39;, false: &#39;close&#39; }[open]" ui-menu-button="" ui-disabled="disableMenu">
  <a href="javascript:;" class="menu-button ng-scope" aria-label="æ›´å¤šé€‰é¡¹">
    <i class="icon-ic_nav_more"></i>
  </a>
  <menu class="menu navbar-menu ng-scope">
    <!-- ngRepeat: column in me.columns -->
    <!-- ngIf: me.columns.length -->
    <!-- ngIf: inWrite && draftId -->
    <a class="menu-item" href="https://zhuanlan.zhihu.com/drafts" tabindex="0">è‰ç¨¿</a>
    <a class="menu-item" href="https://www.zhihu.com/people/gu-xiang-li/posts" target="_blank" tabindex="0">æˆ‘çš„æ–‡ç« </a>
    <!-- ngIf: !inIndex --><a ng-if="!inIndex" class="menu-item ng-scope" href="https://zhuanlan.zhihu.com/" tabindex="0">ä¸“æ  Â· å‘ç°</a><!-- end ngIf: !inIndex -->
    <!-- ngIf: inWrite && !hideDelete -->
    <!-- ngIf: inWrite && !hideDelete -->
  </menu>
</div>
</ng-include><!-- end ngIf: me.authed() -->

  <!-- ngIf: !inWrite && me.$resolved --><!-- ngInclude: undefined --><ng-include src="&#39;/views/navbar/write.html&#39;" ng-if="!inWrite &amp;&amp; me.$resolved" class="ng-scope">
<div class="navbar-write-container ng-scope">
  <a href="javascript:;" ng-click="goWrite()">
    <i class="icon-ic_nav_new"></i>å†™æ–‡ç« 
  </a>
</div>
</ng-include><!-- end ngIf: !inWrite && me.$resolved -->


  <div class="navbar-content">
  </div>

</header>
</div>
    </div>

    <div class="ui-alertbar info ng-hide" ng-show="show" ui-alertbar="" data-alert="globalAlert" ui-sticky="" data-align="bottom" data-target="#header-holder">
  <!-- ngIf: alert.type == 'info' --><i class="icon-ic_prompt_done ng-scope" ng-if="alert.type == &#39;info&#39;"></i><!-- end ngIf: alert.type == 'info' -->
  <!-- ngIf: alert.type == 'error' -->
  
</div>

    <!-- Add your site or application content here -->
    <!-- ngView:  --><main class="main-container ng-scope" ng-view="">
<!-- ngIf: !notFound --><div class="main receptacle post-view ng-scope" ng-class="post.isTitleImageFullScreen &amp;&amp; winType != &#39;small&#39; &amp;&amp; !isCensoring &amp;&amp; &#39;full-screen-cover&#39;" ng-if="!notFound" data-za-module="PostItem">

  <article class="entry" ui-lightbox="">
    <header>
      <!-- ngIf: post.titleImage && !isCensoring --><div class="entry-title-image ng-scope" ng-if="post.titleImage &amp;&amp; !isCensoring" ng-switch="!!(post.titleImageSize.width || (winType != &#39;small&#39; &amp;&amp; post.isTitleImageFullScreen))">
        <!-- ngSwitchWhen: true -->
        <!-- ngSwitchWhen: false --><img ng-switch-when="false" ng-src="https://pic3.zhimg.com/v2-f848381c4a062dff5c9da5b31b84f0a6_b.jpg" class="ng-scope" src="./install-config-php-apache_files/v2-f848381c4a062dff5c9da5b31b84f0a6_b.jpg">
      </div><!-- end ngIf: post.titleImage && !isCensoring -->

      <div class="placeholder"></div>

      <h1 class="multiline2 entry-title">åœ¨ MacOS Sierra ä¸Šå®‰è£… Apache å’Œå¤šä¸ªç‰ˆæœ¬çš„ PHP</h1>

      <div class="entry-meta">
        <a target="_blank" href="https://www.zhihu.com/people/nodejh" class="author name ng-binding">
          <img ng-src="https://pic1.zhimg.com/3000b62e0_m.jpg" alt="" class="avatar-small" src="./install-config-php-apache_files/3000b62e0_m.jpg">è’‹èˆª
        </a>
        <ui-badge is-org="post.author.isOrg" badge="post.author.badge" size="14" class="ng-isolate-scope"><!-- ngIf: isOrg -->
<!-- ngIf: badge --><span ng-if="badge" class="ng-scope">
  <!-- ngIf: badge.identity && badge.best_answerer -->
  <!-- ngIf: badge.identity && !badge.best_answerer -->
  <!-- ngIf: !badge.identity && badge.best_answerer -->
</span><!-- end ngIf: badge --></ui-badge>
        <span class="bull">Â·</span>
        <time ng-class="{short: timeStyle == &#39;short&#39;}" ui-hover-title="2016 å¹´ 12 æœˆ 28 æ—¥æ˜ŸæœŸä¸‰æ™šä¸Š 11 ç‚¹ 14 åˆ†" ui-time="" datetime="2016-12-28T23:14:17+08:00" class="published ng-binding ng-isolate-scope hover-title">14 å¤©å‰</time>
      </div>
    </header>

    <!-- ngIf: isCensoring -->

    <!-- ngIf: ownPost(post) || !isCensoring --><section class="entry-content ng-binding ng-scope" ng-bind-html="postContentTrustedHtml" ui-copyright-check="" data-entry-url="/p/24614926" data-author-name="è’‹èˆª" ng-if="ownPost(post) || !isCensoring"><blockquote><p>æœ¬æ–‡ä¸»è¦å†…å®¹ç¿»è¯‘è‡ª<a href="https://link.zhihu.com/?target=https%3A//getgrav.org/blog/macos-sierra-apache-multiple-php-versions" class=" wrap external" target="_blank" rel="nofollow noreferrer">ã€ŠmacOS 10.12 Sierra Apache Setup: Multiple PHP Versionsã€‹<i class="icon-external"></i></a>ï¼Œå¹¶åŠ å…¥äº†è‡ªå·±çš„å®è·µã€‚</p></blockquote><p><em>å‰è¨€ï¼šæ¯æ¬¡æ­å»ºå¼€å‘ç¯å¢ƒçœŸçš„æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»å’Œç³»ç»Ÿç¯å¢ƒçš„å·®å¼‚ï¼Œç½‘ä¸Šçš„æ•™ç¨‹è‡ªå·±æ›¾ç»å®‰è£…çš„ç»éªŒç»å¸¸ä¸åˆæ—¶å®œï¼Œæ€»ä¼šå‡ºç°ä¸€äº›è¿™æ ·æˆ–é‚£æ ·çš„é—®é¢˜ã€‚é€šè¿‡å‡ ç•ªæœå¯»ï¼Œæˆ‘ç»ˆäºæ‰¾åˆ°ä¸€ç¯‡å®Œå–„çš„æ•™ç¨‹ï¼Œå°†å…¶ç¿»è¯‘æˆäº†ä¸­æ–‡ã€‚æˆ‘ä¹Ÿä¼šæŒç»­æ›´æ–°è¿™ç¯‡æ–‡ç« ï¼Œä¸æ–­å®Œå–„å¹¶è®°å½•é‡åˆ°çš„æˆ–æ–°æˆ–æ—§çš„é—®é¢˜ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥ç»ˆç»“åœ¨ macOS ä¸Šå®‰è£… PHP å¼€å‘ç¯å¢ƒçš„è¯é¢˜ã€‚</em></p><p>å…³äºå¦‚ä½•åœ¨ macOS 10.12 ä¸Šæ­å»º Web å¼€å‘ç¯å¢ƒï¼ŒåŸä½œè€…ä¸€å…±å†™äº†ä¸‰ç¯‡æ–‡ç« ã€‚è¿™æ˜¯ç¬¬ä¸€ç¯‡ã€‚</p><p>å½“å‰çš„æ“ä½œç³»ç»Ÿæ˜¯ macOS 10.12ï¼Œè¿™ç¯‡æ•™ç¨‹è®²è¿°çš„ç¯å¢ƒæ­å»ºå’Œä¸€èˆ¬ PHP å®‰è£…æœ€å¤§çš„ä¸åŒæ˜¯ï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ Apacheï¼ˆmacOS è‡ªå¸¦äº† apacheã€pythonã€ruby ç­‰ä¸€äº›åˆ—å¼€å‘å·¥å…·ï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨ Homebrew çš„ Apacheã€‚å½“ç„¶ï¼Œç³»ç»Ÿè‡ªå¸¦çš„ Apaceh ä¹Ÿæ˜¯å¯ä»¥å·¥ä½œçš„ã€‚</p><p>åœ¨ macOs ä¸Šè¿›è¡Œ Web å¼€å‘ï¼Œç¡®å®æ˜¯ä¸€ä»¶å¾ˆä»¤äººæ„‰å¿«çš„äº‹æƒ…ã€‚ç›®å‰ä¹Ÿæœ‰å¾ˆå¤šé›†æˆå¼€å‘å·¥å…·å¯ä»¥æ–¹ä¾¿åœ°æ­å»ºå¼€å‘ç¯å¢ƒï¼Œæ¯”å¦‚ <a href="https://link.zhihu.com/?target=http%3A//www.mamp.info/en/mamp-pro/" class=" wrap external" target="_blank" rel="nofollow noreferrer">MAMP PRO<i class="icon-external"></i></a>ï¼Œå®ƒå…·æœ‰éå¸¸æ¼‚äº®çš„ä¸€ä¸ª UI ç•Œé¢ï¼Œå¹¶ä¸”é›†æˆäº† Apacheã€PHP å’Œ MySQL ä¸‰ä¸ªè½¯ä»¶ï¼Œéå¸¸é€‚åˆæ–°æ‰‹ä½¿ç”¨ã€‚ä½†æ˜¯æœ‰æ—¶å€™ï¼Œç”±äºå…¶é…ç½®æ¨¡æ¿æœ‰é™ï¼Œè½¯ä»¶æ²¡æœ‰åŠæ—¶å‡çº§ï¼Œä½¿ç”¨å®ƒçš„æ—¶å€™å¯èƒ½ä¼šé‡åˆ°è½¯ä»¶ç‰ˆæœ¬ä¸èƒ½åŠæ—¶æ›´æ–°ã€é…ç½®ä¸å¤Ÿæ–¹ä¾¿çµæ´»ç­‰é—®é¢˜ã€‚</p><p>äºæ˜¯å¾ˆå¤šäººå°±å¼€å§‹å¯»æ‰¾æ›¿ä»£æ–¹æ¡ˆã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚å¹¶ä¸”æ–‡ç« ç»™å‡ºäº†ç®€å•ç›´æ¥çš„å®‰è£…é…ç½®æ­¥éª¤ã€‚</p><h2>1. å®‰è£… Homebrew</h2><p>ä»¥ä¸‹æ‰€æœ‰è½¯ä»¶çš„å®‰è£…éƒ½ä¾èµ–äº macOS ä¸Šçš„ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…· Homebrewã€‚ä½¿ç”¨ brew å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°åœ¨ mac ä¸Šå®‰è£…å„ç§åŠŸèƒ½å„å¼‚çš„è½¯ä»¶ï¼Œå½“ç„¶ï¼Œé¦–å…ˆçš„å®‰è£… homebrewã€‚å®‰è£…æ­¥éª¤ä¹Ÿéå¸¸ç®€å•ï¼Œæ‰“å¼€ç»ˆç«¯ç„¶åè¾“å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
</code></pre></div><p>ç„¶åç­‰å¾…ç»ˆç«¯æç¤ºä½ è¾“å…¥å¯†ç ï¼Œç¨‹åºå°±ä¼šå¼€å§‹è‡ªåŠ¨å®‰è£…ã€‚å¦‚æœä½ æ²¡æœ‰å®‰è£… XCode Command Line Toolsï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ è£…ä¸Šã€‚ç­‰å¾…å‡ åˆ†é’Ÿï¼Œå¾…å®Œæˆåï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ Homebrew æ˜¯å¦æ­£ç¡®å®‰è£…ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew --version
Homebrew 1.1.5
Homebrew/homebrew-core (git revision a50a6; last commit 2016-12-28)
</code></pre></div><p>åŒæ—¶å¯èƒ½ä½ ä¹Ÿéœ€è¦æ‰§è¡Œä¸€ä¸‹ä¸‹é¢çš„å‘½ä»¤ï¼Œæ¥æ£€æµ‹é…ç½®æ˜¯å¦æ­£ç¡®ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew doctor
</code></pre></div><p>è‹¥æœ‰é…ç½®ä¸å½“çš„åœ°æ–¹ï¼Œbrew ä¼šç»™å‡ºæç¤ºï¼Œå®‰è£…æç¤ºä¿®å¤å³å¯ã€‚</p><h3>1.1 æ·»åŠ ç¬¬ä¸‰æ–¹ä»“åº“</h3><p>æˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨ä¸€äº›æ¥è‡ªç¬¬ä¸‰æ–¹ä»“åº“çš„è½¯ä»¶ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ é¢å¤–çš„ä»“åº“ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew tap homebrew/dupes
$ brew tap homebrew/versions
$ brew tap homebrew/php
$ brew tap homebrew/apache
</code></pre></div><p>ç„¶åæ›´æ–° brewï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew update
</code></pre></div><p>æ¥ä¸‹æ¥å°±å¯ä»¥å°½æƒ…ä½¿ç”¨ brew äº†ã€‚</p><h2>2. Apache çš„å®‰è£…</h2><p>æœ€æ–°çš„ macOS 10.12 é¢„è£…äº† Apache 2.4ï¼Œä½†è‹¹æœç§»é™¤äº†ä¸€äº›å¿…è¦çš„è„šæœ¬ï¼Œæ‰€ä»¥ Apache å’Œ Homebrew é…åˆä½¿ç”¨å°†ä¼šå˜å¾—å›°éš¾ã€‚å½“ç„¶è§£å†³è¯¥é—®é¢˜çš„æ–¹æ³•å°±æ˜¯ï¼Œä½¿ç”¨ Homebrew é‡æ–°å®‰è£…é…ç½® Apacheï¼Œå¹¶ä½¿å…¶è¿è¡Œåœ¨æ ‡å‡†ç«¯å£ä¸Šï¼ˆ80/443ï¼‰ã€‚</p><p>å¦‚æœä¹‹å‰å·²ç»å®‰è£…æœ‰ Apache å¹¶ä¸”åœ¨è¿è¡Œä¸­ï¼Œé¦–å…ˆå°±éœ€è¦å…³é—­å®ƒï¼Œç„¶åç§»é™¤è‡ªåŠ¨åŠ è½½è„šæœ¬ã€‚ä¸‹é¢çš„å‘½ä»¤æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ï¼Œåªç®¡è¿è¡Œå°±å¥½äº†ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sudo apachectl stop
$ sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist 2&gt;/dev/null
$ brew install httpd24 --with-privileged-ports --with-http2
</code></pre></div><p>æ¥ä¸‹æ¥éœ€è¦ç­‰å¾…ä¸€å°ä¼šå„¿ï¼Œå› ä¸ºè¿™ä¸ªå‘½ä»¤æ˜¯ä¸‹è½½æºç å¹¶ç¼–è¯‘å®‰è£… Apacheã€‚ä¸Šé¢å‘½ä»¤æ‰§è¡Œç»“æœå¦‚ä¸‹é¢è¿™æ ·ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>ğŸº /usr/local/Cellar/httpd24/2.4.23_2: 212 files, 4.4M, built in 1 minute 45seconds
</code></pre></div><p>è¿™é‡Œçš„è·¯å¾„å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨æ¥ä¸‹æ¥çš„æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªè·¯å¾„ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè·¯å¾„æ˜¯ /usr/local/Cellar/httpd24/2.4.23_2/ï¼Œå¦‚æœä½ çš„è·¯å¾„ä¸æ˜¯è¿™ä¸ªï¼Œåˆ™åœ¨è¿è¡Œä¸‹é¢çš„å‘½ä»¤çš„æ—¶å€™ï¼Œå°†å…¶æ›¿æ¢ä¸ºä½ çš„è·¯å¾„å°±å¯ä»¥äº†ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>sudo cp -v /usr/local/Cellar/httpd24/2.4.23_2/homebrew.mxcl.httpd24.plist /Library/LaunchDaemons
sudo chown -v root:wheel /Library/LaunchDaemons/homebrew.mxcl.httpd24.plist
sudo chmod -v 644 /Library/LaunchDaemons/homebrew.mxcl.httpd24.plist
sudo launchctl load /Library/LaunchDaemons/homebrew.mxcl.httpd24.plist
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬å°±é€šè¿‡ Homebrew å®‰è£…ä¸Šäº† Apacheï¼Œå¹¶ä½¿ç”¨ç®¡ç†å‘˜æƒé™å°†å…¶é…ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨ã€‚è¿™ä¸ªæ—¶å€™ Apache åº”è¯¥å·²ç»åœ¨è¿è¡Œäº†ï¼Œæ‰€ä»¥ä½ æ‰“å¼€æµè§ˆå™¨è®¿é—® localhost å°†ä¼šçœ‹åˆ° â€œIt worksï¼â€ã€‚</p><br><img src="./install-config-php-apache_files/v2-84383faa3e10df84c50112a2292cc1e7_b.png" data-rawwidth="607" data-rawheight="363" class="origin_image zh-lightbox-thumb" width="607" data-original="https://pic4.zhimg.com/v2-84383faa3e10df84c50112a2292cc1e7_r.png"><br><h3>2.1 ä¸€äº›å°é—®é¢˜</h3><p>å¦‚æœä½ çš„æµè§ˆå™¨æç¤ºè¯´ä¸èƒ½å»ºç«‹è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œé‚£ä¹ˆé¦–å…ˆæ£€æŸ¥ä¸€ä¸‹ Apache æœåŠ¡æ˜¯å¦å·²ç»å¯åŠ¨äº†ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ ps -aef | grep httpd
</code></pre></div><p>å¦‚æœ Apache æ­£åœ¨è¿è¡Œï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸€äº› httpd è¿›ç¨‹ã€‚</p><p>é‡å¯ Apacheï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sudo apachectl -k restart
</code></pre></div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›‘æ§ Apache çš„é”™è¯¯æ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ tail -f /usr/local/var/log/apache2/error_log
</code></pre></div><p>å¦‚æœä¸Šé¢è¿™äº›æ­¥éª¤éƒ½æ²¡æœ‰è§£å†³é—®é¢˜ï¼Œé‚£ä¹ˆç¡®å®šä½ çš„ Apache æ˜¯å¦ç›‘å¬äº† 80 ç«¯å£ï¼Œå³ /usr/local/etc/apache2/2.4/httpd.conf é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ Listen: 80ï¼Œæˆ–è€… Listen: åé¢æ˜¯å…¶ä»–ç«¯å£ã€‚</p><p>Apache æ˜¯é€šè¿‡ apachectl æ¥è¿›è¡Œæ§åˆ¶çš„ï¼Œå®ƒçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sudo apachectl start
$ sudo apachectl stop
$ sudo apachectl -k restart
</code></pre></div><p>-k å‚æ•°å°†å¼ºåˆ¶é‡å¯ Apacheï¼Œä¸ç®¡ Apache æ˜¯å¦å‡†å¤‡å¥½ã€‚ </p><p>æœ€ç»ˆæˆ‘å°†æˆ‘çš„ Apache çš„ç«¯å£ä¿®æ”¹ä¸ºäº† 7070ï¼Œä¸»è¦æ˜¯å› ä¸º 80 ç«¯å£æ˜¯ HTTP æœåŠ¡çš„é»˜è®¤ç«¯å£ï¼Œ8080 ç«¯å£æ˜¯ Tomcat çš„é»˜è®¤ç«¯å£ï¼Œä¸ºäº†é¿å…ä¸å…¶ä»–è½¯ä»¶å¦‚ nginx ç­‰å‘ç”Ÿæ½œåœ¨ç«¯å£å†²çªé—®é¢˜ï¼Œæ‰€ä»¥æ”¹ä¸ºäº† 7070ã€‚</p><h3>2.2 Apache çš„é…ç½®</h3><p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œä¸€äº›é…ç½®ï¼Œä»¥ä¾¿äºæ›´æ–¹ä¾¿æˆ‘ä»¬æœ¬åœ°çš„å¼€å‘ã€‚</p><p>é¦–å…ˆä¿®æ”¹ Apache çš„ document rootï¼Œè¿™æ˜¯ Web æœåŠ¡çš„æ ¹ç›®å½•ï¼ŒApache ä¼šä»è¿™ä¸ªç›®å½•ä¸­å¯»æ‰¾èµ„æºæ–‡ä»¶ã€‚é»˜è®¤çš„ document root æ˜¯ /Library/WebServer/Documentsã€‚ä½œä¸ºä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬å¯èƒ½æ›´å¸Œæœ›ç½‘ç«™çš„æ ¹ç›®å½•ï¼ˆå³ Web æœåŠ¡çš„æ ¹ç›®å½•ï¼‰åœ¨æˆ‘ä»¬è‡ªå·±çš„ç”¨æˆ·ä¸»ç›®å½•ä¸‹ã€‚æ‰€ä»¥æ¥ä¸‹æ¥ä¿®æ”¹é…ç½®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯é€šè¿‡ open -e å‘½ä»¤ä½¿ç”¨ Mac é»˜è®¤çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ open -e /usr/local/etc/apache2/2.4/httpd.conf
</code></pre></div><img src="./install-config-php-apache_files/v2-a91a13300c871b4b36dd7681a0ffa854_b.png" data-rawwidth="684" data-rawheight="451" class="origin_image zh-lightbox-thumb" width="684" data-original="https://pic1.zhimg.com/v2-a91a13300c871b4b36dd7681a0ffa854_r.png"><br><p>æœç´¢ DocumentRootï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä¸‹é¢è¿™è¡Œï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>DocumentRoot "/usr/local/var/www/htdocs"
</code></pre></div><p>å°†è¿™è¡Œé…ç½®æ”¹ä¸ºè‡ªå·±çš„ç”¨æˆ·ä¸»ç›®å½•ä¸­çš„ç›®å½•ï¼ŒæŠŠ your_user æ”¹ä¸ºä½ çš„ç”¨æˆ·åï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>DocumentRoot /Users/your_user/sites
</code></pre></div><p>ç´§æ¥ç€è¿˜è¦å°†ä¸Šé¢è¿™è¡Œä»£ç ä¸‹é¢çš„ &lt;Directory&gt; ä¹Ÿæ”¹ä¸ºä½ çš„æ–°çš„ document rootï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>&lt;Directory /Users/your_user/sites&gt;
</code></pre></div><p>åœ¨ &lt;Directory&gt; ä»£ç å—é‡Œé¢ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°† AllowOverride æ”¹ä¸ºä¸‹é¢çš„æ ·å­ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span># AllowOverride controls what directives may be placed in .htaccess files.
# It can be "All", "None", or any combination of the keywords:
#   AllowOverride FileInfo AuthConfig Limit
#
AllowOverride All
</code></pre></div><p>æ¥ä¸‹æ¥é€šè¿‡å–æ¶ˆæ³¨é‡Šä½¿ç”¨ mod_rewrite æ¨¡å—ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>LoadModule rewrite_module libexec/mod_rewrite.so
</code></pre></div><h3>2.4 ç”¨æˆ·å’Œç”¨æˆ·ç»„</h3><p>ç°åœ¨ Apache å·²ç»æŒ‡å‘äº†æˆ‘ä»¬çš„ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„ sites ç›®å½•ï¼Œä¸è¿‡ä¾æ—§è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ã€‚Apche è¿è¡Œçš„æ—¶å€™ï¼Œå…¶ç”¨æˆ·åŠç”¨æˆ·ç»„éƒ½æ˜¯ daemonï¼Œå½“ç¨‹åºè®¿é—®æˆ‘ä»¬çš„ç”¨æˆ·ä¸»ç›®å½•çš„æ—¶å€™ï¼Œå°±ä¼šé‡åˆ°æƒé™é—®é¢˜ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å°±æ˜¯ï¼Œåœ¨ httpd.conf å°†ç”¨æˆ·å’Œç”¨æˆ·ç»„åˆ†åˆ«æ”¹ä¸ºä½ çš„ç”¨æˆ·å your_user å’Œ staffï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>User your_user
Group staff
</code></pre></div><h3>2.5 sites ç›®å½•</h3><p>æ¥ä¸‹æ¥å°±éœ€è¦åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª sites ç›®å½•äº†ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªç®€å•çš„ index.html æ–‡ä»¶ï¼Œå¹¶å†™å…¥ &lt;h1&gt;My User Web Root&lt;/h1&gt; ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ mkdir ~/Sites
$ echo "&lt;h1&gt;My User Web Root&lt;/h1&gt;" &gt; ~/Sites/index.html
</code></pre></div><p>ç„¶åé‡å¯ Apache ä½¿é…ç½®ç”Ÿæ•ˆï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sudo apachectl -k restart
</code></pre></div><p>å†è®¿é—® http://localhost å°±ä¼šæ˜¾ç¤º index.html é‡Œé¢çš„å†…å®¹ã€‚å¦‚æœä½ çš„é…ç½®ä¹Ÿç”Ÿæ•ˆäº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥äº†ã€‚</p><img src="./install-config-php-apache_files/v2-1964e1e697113e3b58730793639ca675_b.png" data-rawwidth="593" data-rawheight="348" class="origin_image zh-lightbox-thumb" width="593" data-original="https://pic2.zhimg.com/v2-1964e1e697113e3b58730793639ca675_r.png"><br><h2>3. PHP çš„å®‰è£…</h2><p>æˆ‘ä»¬æ¥ä¸‹æ¥å®‰è£… PHP 5.5ã€PHP 5.6ã€PHP 7.0 å’Œ PHP 7.1ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªç®€å•çš„è„šæœ¬æ¥åˆ‡æ¢ä¸åŒçš„ç‰ˆæœ¬ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨ brew options php55 æ¥æŸ¥çœ‹æ‰€æœ‰å¯ä»¥å®‰è£…çš„é€‰é¡¹è®¾ç½®ï¼Œæ¯”å¦‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ --with-httpd24 å‚æ•°æ¥ç¼–è¯‘å®‰è£… PHP ä»¥åŠä½¿ Apache æ”¯æŒ PHP æ‰€éœ€è¦çš„ä¸€äº›æ¨¡å—ã€‚</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew install php55 --with-httpd24
$ brew unlink php55
$ brew install php56 --with-httpd24
$ brew unlink php56
$ brew install php70 --with-httpd24
$ brew unlink php70
$ brew install php71 --with-httpd24
</code></pre></div><p>ä¸Šé¢çš„å‘½ä»¤ä¼šä»æºç ä¸‹è½½ PHPï¼Œå¹¶è¿›è¡Œç¼–è¯‘å®‰è£…ã€‚è¿™å¯èƒ½éœ€è¦ä¸€ç‚¹æ—¶é—´ã€‚</p><p>å¦‚æœä¹‹å‰å·²ç»å®‰è£…è¿‡ PHPï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ reinstall æ¥ä»£æ›¿ install è¿›è¡Œå®‰è£…ã€‚</p><h4>3.0.1 ISSUE configure: error: Cannot find libz</h4><p>æˆ‘åœ¨å®‰è£…çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé”™è¯¯ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>==&gt; ./configure --prefix=/usr/local/Cellar/php56/5.6.11_2 --localstatedir=/usr/local/var --sysconfdir=/usr/local/etc/php/5.6 --with-config-file-path=/usr/local/etc/php/5.6 --with
checking whether to enable the SQLite3 extension... yes
checking bundled sqlite3 library... yes
checking for ZLIB support... yes
checking if the location of ZLIB install directory is defined... no
configure: error: Cannot find libz
</code></pre></div><p>æœ€ç»ˆåœ¨ Github ä¸Šæ‰¾åˆ°äº†è¯¥ ISSUE [Cannot find libz when install php56 #1946<br>](<a href="https://link.zhihu.com/?target=https%3A//github.com/Homebrew/homebrew-php/issues/1946%29" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/Homebrew/hom</span><span class="invisible">ebrew-php/issues/1946)</span><span class="ellipsis"></span><i class="icon-external"></i></a>ã€‚</p><p>å…¶åŸå› å¯èƒ½æ˜¯ Xcode çš„ Command Line Tool æ²¡æœ‰æ­£ç¡®å®‰è£…ã€‚è§£å†³é—®é¢˜çš„æ–¹æ³•æ˜¯è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥é‡æ–°å®‰è£…ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>xcode-select --install
</code></pre></div><p>å¯èƒ½ä½ ä¹Ÿéœ€è¦æ ¹æ®è‡ªå·±çš„éœ€è¦ä¿®æ”¹ä¸€äº› PHP çš„é…ç½®ï¼Œå¸¸è§çš„æ¯”å¦‚ä¿®æ”¹å†…å­˜é…ç½®æˆ– date.timezone é…ç½®ã€‚å„ä¸ªç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶å³ php.ini åœ¨ä¸‹é¢çš„ç›®å½•ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>/usr/local/etc/php/5.5/php.ini
/usr/local/etc/php/5.6/php.ini
/usr/local/etc/php/7.0/php.ini
/usr/local/etc/php/7.1/php.ini
</code></pre></div><h3>3.1. Apache å’Œ PHP çš„é…ç½® - ç¬¬ä¸€éƒ¨åˆ†</h3><p>æˆ‘ä»¬å·²ç»æˆåŠŸå®‰è£…äº†å¤šä¸ªç‰ˆæœ¬çš„ PHPï¼Œä½†æˆ‘ä»¬è¿˜éœ€è¦å‘Šè¯‰ Apache æ€ä¹ˆä½¿ç”¨å®ƒä»¬ã€‚å†æ¬¡æ‰“å¼€ /usr/local/etc/apache2/2.4/httpd.confï¼Œå¹¶æœç´¢ #LoadModule php5_module æ‰€åœ¨è¡Œã€‚</p><p>å¯ä»¥å‘ç°ï¼Œæ¯ä¸ªç‰ˆæœ¬çš„ PHP éƒ½æœ‰ä¸€ä¸ª LoadModule å…¥å£ï¼Œæ¯ä¸ª LoadModule éƒ½æŒ‡å‘ä¸€ä¸ªç‰¹å®šç‰ˆæœ¬çš„ PHPã€‚è¿™é‡Œé»˜è®¤çš„è·¯å¾„å¦‚ /usr/local/Cellar/php71/7.1.0_11/libexec/apache2/libphp7.so æ˜¯ brew åº”ç”¨ç¨‹åºçš„å®‰è£…è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ›´é€šç”¨çš„è·¯å¾„æ¥æ›¿æ¢å®ƒä»¬ï¼ˆå…·ä½“çš„è·¯å¾„å¯èƒ½æœ‰æ‰€ä¸åŒï¼‰ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>LoadModule php5_module        /usr/local/Cellar/php55/5.5.38_11/libexec/apache2/libphp5.so
LoadModule php5_module        /usr/local/Cellar/php56/5.6.29_5/libexec/apache2/libphp5.so
LoadModule php7_module        /usr/local/Cellar/php70/7.0.14_7/libexec/apache2/libphp7.so
LoadModule php7_module        /usr/local/Cellar/php71/7.1.0_11/libexec/apache2/libphp7.so
</code></pre></div><p>å°†ä¸Šé¢çš„è·¯å¾„ä¿®æ”¹ä¸ºï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>LoadModule php5_module        /usr/local/opt/php55/libexec/apache2/libphp5.so
LoadModule php5_module        /usr/local/opt/php56/libexec/apache2/libphp5.so
LoadModule php7_module        /usr/local/opt/php70/libexec/apache2/libphp7.so
LoadModule php7_module        /usr/local/opt/php71/libexec/apache2/libphp7.so
</code></pre></div><p>ä¹‹æ‰€ä»¥å¯ä»¥è¿™ä¹ˆä¿®æ”¹ï¼Œæ˜¯å› ä¸º /usr/local/opt/php71 å…¶å®æ˜¯ç”± brew åˆ›å»ºçš„ /usr/local/Cellar/php71 çš„ä¸€ä¸ªè½¯è¿æ¥ã€‚</p><p>è¿™ä¹ˆä¿®æ”¹çš„å¥½å¤„æ˜¯ï¼Œå‡çº§ PHP çš„å°ç‰ˆæœ¬å·çš„æ—¶å€™ï¼Œæ¯”å¦‚ç”± 7.1.0_11 æ—¶ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦å†ä¿®æ”¹ LoadModule å¯¹åº”çš„å€¼äº†ã€‚</p><p>æˆ‘ä»¬æ¯æ¬¡å¼€å‘æˆ–è¿è¡Œä¾æ—§åªéœ€è¦ä¸€èˆ¬ä¹Ÿåªèƒ½ä½¿ç”¨æŸä¸€ä¸ªç‰ˆæœ¬çš„ PHPã€‚ä»¥æˆ‘ä»¬è¦ä½¿ç”¨ 7.1 è¿™ä¸ªç‰ˆæœ¬å¼€å‘åº”ç”¨ä¸ºä¾‹ï¼Œå°†å…¶ä»–ç‰ˆæœ¬çš„ LoadModule éƒ½æ³¨é‡Šæ‰ï¼Œåªä¿ç•™å¯¹åº”ç‰ˆæœ¬çš„ LoadModuleï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>#LoadModule php5_module        /usr/local/opt/php55/libexec/apache2/libphp5.so
#LoadModule php5_module        /usr/local/opt/php56/libexec/apache2/libphp5.so
#LoadModule php7_module        /usr/local/opt/php70/libexec/apache2/libphp7.so
LoadModule php7_module        /usr/local/opt/php71/libexec/apache2/libphp7.so
</code></pre></div><p>è¿™æ ·çš„é…ç½®å°±ä¼šå‘Šè¯‰ Apache ä½¿ç”¨ PHP 7.1 æ¥å¤„ç† PHP è¯·æ±‚ã€‚ï¼ˆç¨åæˆ‘ä»¬å°†æ·»åŠ åˆ‡æ¢ PHP ç‰ˆæœ¬çš„è„šæœ¬ã€‚ï¼‰</p><p>æ¥ä¸‹æ¥è¿˜éœ€è¦é…ç½® PHP çš„ä¸»ç›®å½•ç´¢å¼•æ–‡ä»¶ï¼ˆDirectory Indexesï¼‰ï¼Œæ‰¾åˆ°ä¸‹é¢çš„ä»£ç å—ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>&lt;IfModule dir_module&gt;
    DirectoryIndex index.html
&lt;/IfModule&gt;
</code></pre></div><p>å°†å…¶æ›¿æ¢ä¸ºä¸‹é¢çš„ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>&lt;IfModule dir_module&gt;
    DirectoryIndex index.php index.html
&lt;/IfModule&gt;

&lt;FilesMatch \.php$&gt;
    SetHandler application/x-httpd-php
&lt;/FilesMatch&gt;
</code></pre></div><p>ä¿å­˜åé‡å¯ Apacheï¼ŒPHP çš„å®‰è£…å°±å®Œæˆäº†ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sudo apachectl -k restart
</code></pre></div><h3>3.2. éªŒè¯ PHP å®‰è£…ç»“æœ</h3><p>éªŒè¯ PHP æ˜¯å¦æ­£ç¡®å®‰è£…çš„æœ€å¥½æ–¹æ³•æ˜¯ä½¿ç”¨ phpinfo() è¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¾“å‡º PHP çš„ç‰ˆæœ¬ç­‰ä¿¡æ¯ã€‚å½“ç„¶ï¼Œæœ€å¥½ä¸è¦åœ¨ä½ çš„ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒã€‚ä½†åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œä½¿ç”¨å®ƒå¯¹æˆ‘ä»¬äº†è§£ç³»ç»Ÿä¸­ PHP å®‰è£…ä¿¡æ¯éå¸¸æœ‰å¸®åŠ©ã€‚</p><p>åœ¨ç½‘ç«™ä¸»ç›®å½•å³ä½ çš„ sites/ ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª info.php çš„æ–‡ä»¶ï¼Œç„¶åè¾“å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>&lt;?php
phpinfo();
?&gt;
</code></pre></div><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://localhost:7070/info.phpï¼Œä½ è®²çœ‹åˆ°ä¸‹é¢çš„å®Œç¾çš„ PHP ä¿¡æ¯é¡µé¢ï¼š</p><img src="./install-config-php-apache_files/v2-4158338d4f6ad55ea1ea9dabff85dc83_b.png" data-rawwidth="1281" data-rawheight="1024" class="origin_image zh-lightbox-thumb" width="1281" data-original="https://pic4.zhimg.com/v2-4158338d4f6ad55ea1ea9dabff85dc83_r.png"><br><p>å¦‚æœèƒ½å¤Ÿçœ‹åˆ°ç±»ä¼¼çš„é¡µé¢ï¼Œå°±è¯´æ˜ Apache å’Œ PHP å·²ç»æˆåŠŸè¿è¡Œäº†ã€‚ä½ å¯ä»¥é€šè¿‡æ³¨é‡Š LoadModule ... php56 ... æ¥æµ‹è¯•å…¶ä»–ç‰ˆæœ¬çš„ PHPã€‚ä¿®æ”¹é…ç½®åï¼Œé‡å¯ Apache å¹¶åˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ°ç±»ä¼¼çš„é¡µé¢äº†ã€‚</p><h3>3.3 PHP ç‰ˆæœ¬åˆ‡æ¢è„šæœ¬</h3><p>åœ¨å¼€å‘ä¸­ï¼Œå¦‚æœæ¯æ¬¡éƒ½é€šè¿‡ä¿®æ”¹ /usr/local/etc/apache2/2.4/httpd.conf æ–‡ä»¶å»åˆ‡æ¢ PHP ç‰ˆæœ¬ï¼Œæ˜¾ç„¶å¤ªéº»çƒ¦äº†ã€‚æœ‰æ²¡æœ‰æ›´å®¹æ˜“çš„æ–¹æ³•å‘¢ï¼Ÿå¹¸è¿çš„æ˜¯ï¼Œä¸€äº›å‹¤åŠ³çš„å¼€å‘è€…å·²ç»å†™å¥½äº†è¿™æ ·çš„ä¸€ä¸ªè„šæœ¬ <a href="https://link.zhihu.com/?target=https%3A//gist.github.com/w00fz/142b6b19750ea6979137b963df959d11" class=" wrap external" target="_blank" rel="nofollow noreferrer">PHP switcher script<i class="icon-external"></i></a>ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ·»åŠ  sphp åˆ° brew çš„ /usr/local/bin é‡Œé¢ã€‚åŸæ–‡ç»™çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ curl -L https://gist.github.com/w00fz/142b6b19750ea6979137b963df959d11/raw &gt; /usr/local/bin/sphp
$ chmod +x /usr/local/bin/sphp
</code></pre></div><p>å…¶ä¸­ç¬¬ä¸€è¡Œå‘½ä»¤çš„ä½œç”¨ï¼Œå°±æ˜¯å°† Gist ä¸Šçš„è¿™ä¸ªåˆ‡æ¢ PHP ç‰ˆæœ¬çš„è„šæœ¬ä¸‹è½½å¹¶å†™å…¥åˆ° /usr/local/bin/sphp è¿™ä¸ªæ–‡ä»¶é‡Œé¢ã€‚ç¬¬äºŒè¡Œå‘½ä»¤çš„ä½œç”¨æ˜¯èµ‹äºˆ /usr/local/bin/sphp å¯æ‰§è¡Œæƒé™ã€‚</p><p>ä½†ç”±äºå›½å†…å¹¶ä¸èƒ½è®¿é—® Gistï¼Œæ‰€ä»¥ç¬¬ä¸€è¡Œå‘½ä»¤å¹¶ä¸èƒ½æ‰§è¡ŒæˆåŠŸã€‚æ‰€ä»¥æˆ‘åœ¨è¿™é‡Œæä¾›äº†æ•´ä¸ªè„šæœ¬ä»£ç ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>#!/bin/bash

# Check if command was ran as root.
if [[ $(id -u) -eq 0 ]]; then
    echo "The command \"sphp\" should not be executed as root or via sudo directly."
    echo "When a service requires root access, you will be prompted for a password as needed."
    exit 1
fi

# Usage
if [ $# -ne 1 ]; then
    echo "Usage: sphp [phpversion]"
    echo "Versions installed:"
    brew list | grep '^php[0-9]\{2,\}$' | grep -o -E '[0-9]+' | while read -r line ; do
        echo " - phpversion: $line"
    done
    exit 1
fi

currentversion="`php -r \"error_reporting(0); echo str_replace('.', '', substr(phpversion(), 0, 3));\"`"
newversion="$1"

majorOld=${currentversion:0:1}
majorNew=${newversion:0:1}
minorNew=${newversion:1:1}

brew list php$newversion 2&gt; /dev/null &gt; /dev/null

if [ $? -eq 0 ]; then
    echo "PHP version $newversion found"

    # Check if new version is already the current version.
    # if [ "${newversion}" == "${currentversion}" ]; then
    #     echo -n "PHP version ${newversion} is already being used. Continue by reloading? (y/n) "
    #     while true; do
    #         read -n 1 yn
    #         case $yn in
    #             [Yy]* ) echo &amp;&amp; break;;
    #             [Nn]* ) echo &amp;&amp; exit 1;;
    #         esac
    #     done
    # fi

    echo "Unlinking old binaries..."
    brew unlink php$currentversion 2&gt; /dev/null &gt; /dev/null

    echo "Linking new binaries..."
    brew link php$newversion

    echo "Linking new modphp addon..."
    sudo ln -sf `brew list php$newversion | grep libphp` /usr/local/lib/libphp${majorNew}.so
    echo /usr/local/lib/libphp${majorNew}.so
    echo "Fixing LoadModule..."
    apacheConf=`httpd -V | grep -i server_config_file | cut -d '"' -f 2`
    sudo sed -i -e "/LoadModule php${majorOld}_module/s/^#*/#/" $apacheConf

    if grep "LoadModule php${majorNew}_module .*php${newversion}" $apacheConf &gt; /dev/null
    then
        sudo sed -i -e "/LoadModule php${majorNew}_module .*php${newversion}/s/^#//" $apacheConf
    else
        sudo sed -i -e "/LoadModule php${majorNew}_module/s/^#//" $apacheConf
    fi

    echo "Updating version file..."

    pgrep -f /usr/sbin/httpd 2&gt; /dev/null &gt; /dev/null
    if [ $? -eq 0 ]; then
        echo "Restarting system Apache..."
        sudo pkill -9 -f /usr/sbin/httpd
        sudo /usr/sbin/apachectl -k restart &gt; /dev/null 2&gt;&amp;1
    fi

    pgrep -f /usr/local/"Cellar|opt"/*/httpd 2&gt; /dev/null &gt; /dev/null
    if [ $? -eq 0 ]; then
        echo "Restarting homebrew Apache..."
        sudo pkill -9 -f /usr/local/"Cellar|opt"/*/httpd
        sudo /usr/local/bin/apachectl -k restart &gt; /dev/null 2&gt;&amp;1
    fi

    # pgrep -x httpd 2&gt; /dev/null &gt; /dev/null
    # if [ $? -eq 0 ]; then
    #     echo "Restarting non-root homebrew Apache..."
    #     httpd -k restart &gt; /dev/null 2&gt;&amp;1
    # fi

    echo "Done."

    # Show PHP CLI version for verification.
    echo &amp;&amp; php -v
else
    echo "PHP version $majorNew.$minorNew was not found."
    echo "Try \`brew install php${newversion}\` first."
    exit 1
fi
</code></pre></div><p>é€šè¿‡ open -e /usr/local/bin/sphp æ‰“å¼€ sphp æ–‡ä»¶ï¼Œå¹¶å°†ä¸Šé¢çš„ä»£ç å¤åˆ¶è¿›å…¥ï¼Œç„¶åèµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ chmod +x /usr/local/bin/sphp
</code></pre></div><h3>3.4. æ£€æµ‹ PATH è·¯å¾„</h3><p>Homebrew åœ¨å®‰è£…ç¨‹åºçš„æ—¶å€™ä¸€èˆ¬ä¼šæŠŠç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥åˆ° /usr/local/bin å’Œ /usr/local/sbin è¿™ä¸¤ä¸ªç›®å½•é‡Œé¢ã€‚é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¯ä»¥å¿«é€Ÿæµ‹è¯•å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ echo $PATH
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
</code></pre></div><p>å¦‚æœæ²¡æœ‰çœ‹åˆ°ç±»ä¼¼çš„è¾“å‡ºï¼Œä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨æ·»åŠ è¿™äº›è·¯å¾„ã€‚æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ° shell çš„é…ç½®æ–‡ä»¶ä¸­ï¼ˆä¸åŒçš„ shell å¯èƒ½éœ€è¦å°†è·¯å¾„æ·»åŠ åˆ°ä¸åŒçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦‚ ~/.profile~/.bash_profile ~/.zshrcï¼‰ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ macOS é»˜è®¤çš„ shellï¼Œåˆ™æ·»åŠ åˆ° ~/.profileï¼ˆè‹¥æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™åˆ›å»ºå®ƒï¼‰ï¼›å¦‚æœä½¿ç”¨çš„æ˜¯ zshï¼Œåˆ™æ·»åŠ åˆ° ~/.zshrcï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>export PATH=/usr/local/bin:/usr/local/sbin:$PATH
</code></pre></div><p>åœ¨æ·»åŠ è·¯å¾„åˆ°é…ç½®æ–‡ä»¶çš„æ—¶å€™ï¼Œæœ€å¥½å…³é—­å…¶ä»–ä¸ç›¸å…³çš„ç»ˆç«¯ï¼Œå› ä¸ºæŸäº›å¼€ç€çš„ç»ˆç«¯å¯èƒ½ä¼šå¯¹è·¯å¾„é€ æˆä¸€äº›å¥‡æ€ªçš„é—®é¢˜ã€‚æ·»åŠ å®Œæˆåï¼Œé…ç½®ä¼šåœ¨ä¸‹æ¬¡æ‰“å¼€ç»ˆç«¯çš„æ—¶å€™ç”Ÿæ•ˆã€‚æˆ–è€…ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œé‡æ–°è½½å…¥é…ç½®æ–‡ä»¶ä½¿å…¶ç«‹å³ç”Ÿæ•ˆï¼š</p><div class="highlight"><pre><code class="language-text"><span></span># è‹¥ä½¿ç”¨çš„æ˜¯é»˜è®¤ç»ˆç«¯
$ source ~/.profile
# æˆ–å¦‚æœä½¿ç”¨çš„æ˜¯ zsh
$ source ~/.zshrc
</code></pre></div><h3>3.5. Apache å’Œ PHP çš„é…ç½® - ç¬¬äºŒéƒ¨åˆ†</h3><p>å°½ç®¡ä¹‹å‰æˆ‘ä»¬å·²ç»é…ç½®å¥½äº† Apache å’Œ PHPï¼Œç°åœ¨æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ¥ä½¿ç”¨ PHP switcher script åˆ‡æ¢ PHP çš„ç‰ˆæœ¬ã€‚ç»§ç»­æ‰“å¼€ /usr/local/etc/apache2/2.4/httpd.confç„¶åæ‰¾åˆ° LoadModule php æ‰€åœ¨çš„è¡Œï¼š</p><p>ç„¶åæ³¨é‡Šæ‰æ­£åœ¨ä½¿ç”¨çš„ LoadModuleï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>#LoadModule php5_module        /usr/local/opt/php55/libexec/apache2/libphp5.so
#LoadModule php5_module        /usr/local/opt/php56/libexec/apache2/libphp5.so
#LoadModule php7_module        /usr/local/opt/php70/libexec/apache2/libphp7.so
#LoadModule php7_module        /usr/local/opt/php71/libexec/apache2/libphp7.so
</code></pre></div><p>å¹¶åœ¨ä¸‹é¢æ·»åŠ ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span># Brew PHP LoadModule for `sphp` switcher
#LoadModule php5_module /usr/local/lib/libphp5.so
LoadModule php7_module /usr/local/lib/libphp7.so
</code></pre></div><p>å¦‚æœä½ å®‰è£…äº† PHP 5.5 æˆ– 5.6 ç­‰ï¼Œæ³¨é‡Šæ‰çš„ php5_module åŒæ ·ä¹Ÿéå¸¸é‡è¦ã€‚PHP switcher script ä¼šè‡ªåŠ¨æ³¨é‡Šæˆ–å–æ¶ˆæ³¨é‡Š PHP moduleã€‚</p><h3>3.6 PHP åˆ‡æ¢æµ‹è¯•</h3><p>å®Œæˆä¸Šé¢çš„æ­¥éª¤ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ sphp å‘½ä»¤æ¥åˆ‡æ¢ PHP ç‰ˆæœ¬äº†ã€‚sphp çš„å‚æ•°æ˜¯ç”±ä¸¤ä¸ªæ•°å­—ç»„åˆæˆçš„ä¸¤ä½æ•°ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sphp 5
PHP version 55 found
Unlinking old binaries...
Linking new binaries...
Linking /usr/local/Cellar/php55/5.5.38_11... 17 symlinks created
Linking new modphp addon...
/usr/local/lib/libphp5.so
Fixing LoadModule...
Updating version file...
Restarting homebrew Apache...
Done.

PHP 5.5.38 (cli) (built: Dec 28 2016 15:48:28)
Copyright (c) 1997-2015 The PHP Group
Zend Engine v2.5.0, Copyright (c) 1998-2015 Zend Technologies
</code></pre></div><p>ç„¶åè®¿é—® http://localhost:7070/info.phpï¼Œå¯ä»¥çœ‹åˆ° PHP ç‰ˆæœ¬å·²ç»æ­£ç¡®åˆ‡æ¢ï¼š</p><img src="./install-config-php-apache_files/v2-7ff594ccfd30f31c1cb750fc41ced1c8_b.png" data-rawwidth="1280" data-rawheight="1024" class="origin_image zh-lightbox-thumb" width="1280" data-original="https://pic1.zhimg.com/v2-7ff594ccfd30f31c1cb750fc41ced1c8_r.png"><br><h4>3.6.1 ISSUE Unable to load dynamic library '/usr/local/opt/php56-mongo/mongo.so'</h4><p>æˆ‘åœ¨åˆ‡æ¢ç‰ˆæœ¬çš„æ—¶å€™ä¹Ÿé‡åˆ°äº†é—®é¢˜ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ sphp 71
...
Warning: PHP Startup: Unable to load dynamic library '/usr/local/opt/php56-mongo/mongo.so' - dlopen(/usr/local/opt/php56-mongo/mongo.so, 9): image not found in Unknown on line 0
PHP 5.6.29 (cli) (built: Dec 28 2016 15:58:30)
Copyright (c) 1997-2016 The PHP Group
Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies
</code></pre></div><p>æ ¹æ®é”™è¯¯æç¤ºï¼Œå¤§æ¦‚æ˜¯å› ä¸º php56-mongo è¿™ä¸ªæ‰©å±•æ²¡æœ‰ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨ brew å®‰è£…äº† php56-mongo é—®é¢˜å°±è§£å†³äº†ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew install php56-mongo
</code></pre></div><h3>3.7 æ›´æ–° PHP å’Œå…¶ä»–é€šè¿‡ Brew å®‰è£…çš„ç¨‹åº</h3><p>ä½¿ç”¨ brew æ›´æ–° PHP å’Œå…¶ä»–é€šè¿‡ brew å®‰è£…çš„ç¨‹åºéå¸¸ç®€å•ï¼Œç¬¬ä¸€æ­¥æ˜¯æ›´æ–° brew æœ¬èº«ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew update
</code></pre></div><p>å‡çº§åå°†ä¼šåˆ—å‡ºä¸€ç³»åˆ—å¯æµ‹å›å½’å†…å¿ƒçš„ç¨‹åºï¼Œç„¶åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ›´æ–°ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew upgrade
</code></pre></div><h3>3.8 ä½¿ç”¨å…·ä½“çš„/æœ€æ–°çš„ PHP ç‰ˆæœ¬</h3><p>å½“æˆ‘ä»¬ä½¿ç”¨ PHP çš„æ—¶å€™ï¼Œæ¯æ¬¡æˆ‘ä»¬åªä½¿ç”¨äº†å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¹¶ä¸”åªæœ‰å½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬ä¼šæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å½“å‰ PHP ç‰ˆæœ¬ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ php -v
</code></pre></div><p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹å…·ä½“çš„å¯ç”¨ PHP ç‰ˆæœ¬ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew info php55
homebrew/php/php55: stable 5.5.38 (bottled), HEAD
PHP Version 5.5
https://php.net
Conflicts with: php53, php54, php56, php70, php71
/usr/local/Cellar/php55/5.5.38_11 (329 files, 47.7M)
  Built from source on 2016-12-28 at 15:49:20 with: --with-httpd24
</code></pre></div><p>æ¯”å¦‚ä¸Šé¢çš„ PHP 5.5 ç‰ˆæœ¬çš„åªæœ‰ä¸€ä¸ªå¯ç”¨ç‰ˆæœ¬ 5.5.38ã€‚</p><p>ç„¶åå¯ä»¥ä½¿ç”¨ brew æ¥åˆ‡æ¢åˆ°ä¸€ä¸ªå…·ä½“çš„ç‰ˆæœ¬ï¼š</p><div class="highlight"><pre><code class="language-text"><span></span>$ brew switch php55 5.5.38
</code></pre></div><p>åˆ°æ­¤ï¼Œè¿™ç¯‡æ–‡ç« å°±ç»“æŸäº†ã€‚ä½ å·²ç»å®ŒæˆæŒæ¡äº† Apache 2.4 å’Œå„ä¸ªç‰ˆæœ¬ PHP çš„å®‰è£…ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ 5.5 5.6 7.0 7.1 ä¸­å¿«é€Ÿåˆ‡æ¢ PHP ç‰ˆæœ¬ã€‚åŸä½œè€…è¿˜å†™äº†ä¸¤å¤–ä¸¤ç¯‡æ–‡ç« ï¼Œåˆ†åˆ«æ˜¯ <a href="https://link.zhihu.com/?target=https%3A//getgrav.org/blog/macos-sierra-apache-mysql-vhost-apc" class=" wrap external" target="_blank" rel="nofollow noreferrer">macOS 10.12 Sierra Apache Setup: MySQL, APC &amp; More<i class="icon-external"></i></a> å’Œ <a href="https://link.zhihu.com/?target=https%3A//getgrav.org/blog/macos-sierra-apache-ssl" class=" wrap external" target="_blank" rel="nofollow noreferrer">macOS 10.12 Sierra Apache Setup: SSL<i class="icon-external"></i></a>ï¼Œè¿‘æœŸå†…æˆ‘ä¹Ÿä¼šå°†å®ƒä»¬ç¿»è¯‘æˆä¸­æ–‡ï¼Œå¹¶åŠ å…¥è‡ªå·±çš„å®è·µæ€»ç»“ã€‚</p></section><!-- end ngIf: ownPost(post) || !isCensoring -->

    <footer>
      <!-- ngIf: !forceHideTipjar && !isCensoring && (post.tipjarState == 'activated' || (ownPost(post) && post.tipjarState != 'closed' && !me.isOrg)) -->

      <!-- ngIf: isPublished --><div class="entry-exinfo clearfix ng-scope" ng-if="isPublished">
        <!-- ngIf: post.reviewers -->

        <!-- ngIf: post.topics.length --><p class="tags ng-scope full-screen" ng-if="post.topics.length" ng-class="{&#39;full-screen&#39;: !post.reviewers.length}">
          <!-- ngRepeat: topic in post.topics | limitTo:3 --><span class="tag ng-binding ng-scope" ng-repeat="topic in post.topics | limitTo:3">PHP</span><!-- end ngRepeat: topic in post.topics | limitTo:3 --><span class="tag ng-binding ng-scope" ng-repeat="topic in post.topics | limitTo:3">Web å¼€å‘</span><!-- end ngRepeat: topic in post.topics | limitTo:3 --><span class="tag ng-binding ng-scope" ng-repeat="topic in post.topics | limitTo:3">Apache</span><!-- end ngRepeat: topic in post.topics | limitTo:3 -->
        </p><!-- end ngIf: post.topics.length -->

      </div><!-- end ngIf: isPublished -->

      <div class="entry-controls clearfix">
        <div class="right-section">
          <!-- ngIf: isPublished && !supportTouch --><div ng-transclude="" class="post-share-button post-menu-button menu-button-no-arrow ui-menu-button ng-scope close" ng-class="{ true: &#39;open&#39;, false: &#39;close&#39; }[open]" ui-menu-button="" onbeforeopen="beforeShareMenuOpen()" ng-if="isPublished &amp;&amp; !supportTouch">
            <a href="javascript:;" class="menu-button control-item share ng-scope"><i class="icon-ic_column_share"></i>åˆ†äº«</a>
            <menu class="menu ng-scope">
              <!-- ngRepeat: item in shareMenuItems --><button ng-click="item.action($event)" class="menu-item ng-binding ng-scope menu-item-sina" ng-repeat="item in shareMenuItems" ng-class="item.className" tabindex="0">
                <i class="icon icon-ic_share_sina"></i>æ–°æµªå¾®åš
                <!-- ngIf: item.html -->
              </button><!-- end ngRepeat: item in shareMenuItems --><button ng-click="item.action($event)" class="menu-item ng-binding ng-scope menu-item-wechat" ng-repeat="item in shareMenuItems" ng-class="item.className" tabindex="0">
                <i class="icon icon-ic_share_wechat"></i>å¾®ä¿¡æ‰«ä¸€æ‰«
                <!-- ngIf: item.html --><div class="extra ng-binding ng-scope" ng-if="item.html" ng-bind-html="item.html"><div class="ShareQRCode" title="https://zhuanlan.zhihu.com/p/24614926#showWechatShareTip"><canvas width="100" height="100" style="display: none;"></canvas><img style="display: block;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAH3klEQVR4Xu2d23rjMAiEm/d/6OyXpGlkGYYfLKeHZS9rWQcGhgHb2cvHx8f1o/jvet3eerlcvmZ6Xhv/Ni/j3T///Xbfcx41r3Wfde/4N7Wnec15bPa8xMw3CzYgg6VGUL8VEM+7LFQz3jpHiDqwGqu883ktisqMsa0omucnkYyiYmCWrwhpQPam8xxERU4UVcrB707wpKzIu26DIw+pcmrE/ePazwNljKLymIou77yr1rZs3oB8ImIZ508DkqHEOQrGMFfzRBRj0UUU9VmFR/Krisq3RUgDsneH0ylrXNLzFEvpECVCclxU51j7y9QhpKb6URHSgLAC9m2U1YCcAAihDxKWhGK8Margmr0r0vXReVT7J0OBRI57exmp8O2FoaWYSIVOxih15hnjxwISeVJWMmaSeqT3VVGqilElac/eX8Wed4m9orloVa5nH/hoIXf2/sqAXCsFwrQaaU0o7vfuVxK5UiBmjeS1SCr9Krr2pQHxTfUjASHerxRVpjWhvIioNpq471z92fLORFpF4ZH5N0wQRUgDsoeZGDkD3gaQuf1OuW70MnJPJgmr+Sqerdau1A+Wk66qqUp1yBG9T2RqAzI8fCLe3oC8XuaYqYkUsGqM234nPEkSLamEifImzzrIPLPDZQxIzjLPT7rbModkOLoB2UfKtwCSoTVCbxlprLzUu0ainZyJ7FNFIImwEmWRzUfUMF4nB42KtNt8fwoQUlSRFoc3D3napiQo4XovGkluqdRb2fxAnDRsLh5dNENZDUix20u40KtUiSdaUeZ5uVXXZJyARG6GLsl80vEq7fcG5GFSVeQSpzIfWzQgvnSNxMapgJDER6jAo6qj7RCi7LyHTmpPRCxE86poUH0v675SL4vkgQrAmXvMw0wt9YyxCWikEJ7nOQwI8YaK4Uy+HF7DV3UEiQ7r/kxUkv0R0DIMIXOIx5dZhKM6RMnojFggSfNXAvJ8QEXCO8ohxNiZRGhFouq1HSlcFQUSr6/0AM01GxA/jipOSvpmcswMSGVCxb8kEUbyctb8owlJFJGosvZJilGSxGfI1Xm/3jo5EnINyP7rMpW/ECBRMiYLUDU05yIvipT3E8VDop14OOkiE3rzFOwm965866QBeVmgSqXhi3Kri8ARtKjm+a8jxAs5S6Zm6I0kbEphUfEX5UEluSviQ4mLaC+WY97FSyR7G5A9DZFiuQzI3O0lnpLNFdXxhLKI2CC0a4mEyKiZeaPo/mKJBmQLqdVtyNQjxEHUmPARblSEqaItioxI7hLOt9Yg+ZDI3aigq9pG1iGZB1SrPCUyhqqaIxqxHETRcIaiyTwziCrfpLq9lud5yBIjrfbkDGiK61cXj0rKR4xwd6YVPz7TgPg/zKNo1xQSDYj/+21HchGJYAmIdXHm4yiHqPCfiz9LBpKurLdPr9DyhAXZq3cvqUPIeU0a92RvZsIMZalCswEROSSjPjJeS5IoGRNJahWBRK4qEVKxjbVmSmVVFiWGXDXmvwFEHdSjFBNp55UcqxLOGJfQGpKXwStDY4RlWiRHcpMpexuQlwVWswRxvN3zEJKgPY/J0pEnK4lTqMKVqKOKsUmunMWQ6o2ZzDI/MWxAYj8mtFSm8aiXlel+xkfRb4yTCCNrEO+PaipLpVmlwJE6R6osMjGJnshgqzq4ap0GJEJhuN6AvIyRipAjXnaXb8GL1OOYCn1k2hfEXxTnk/sr9rLO4D6gqiwwbrwB2cM4O54EhCiHeQlidJUII9DJnkh7W0nkStFHcimJOOt8pQ92PCNnVVIDsm/9u+/2VjzHoixl9PlaBJCSooTnSd5R3WhSsJLzyuLRe/u9Adn/MsRbASE0FDUXxw0T/o9ykjUfaS4+78t4Kyn6VFIm0Y6Sutc6mQ+lZCqhgiqleMY1E6IjtTP7U8zQgAwoeh5IpPavBCSTMzxvJ30vZRwio2fKOmrsVULC23vWru7L1oRi5jENyMsiBGjLxu73IaqwOZKwFfcTjs4oHSUavLUsp7LyKRUkaj4zT3tfUDUgrB8XqbNlgFgLeWFI5CXJHdlK3ysUSS5SxVl0jeQtotZMp898Y9iAPKB6CyBEDUSFTTapZwBeIXtJBKozkKZiJW9tpLv3SZuVPBuQx29rZUSN6o1ZQeB2ewnnkxaFUiiZVswRGb6KYqiyivYqI9X7Mf4GZF9TNCCRqwXXifqLZKuiKJJ3CfWbOeTI2TMSb1zHC11VA2WKNCUEiDSOkrjKD5Wy4a7gItlLgGpA/ERvgaacIfUV7gxOpV9TbU14xZo6MNlfpV1D8qu1NmrXRG8uqgghB/ZAtAosIidVt9ejKBLBimJIMidrpwAhxoi81JojY0Aikb8jhxBmiPKhJQ7MXFn5P6g8Izcgez4hheGGxs/+CpdIw6gDMHoXmc+LIlIgbiToyT9jiyp1wreVCCG5SNUER/OVlbNUjUFyXMY5FGVtnKAjJP+dunKco4635JcciGeTQikTBURWeiJEeT+R0ZbRSbSgjvWKCGlA7GckkTozRdBZgGS8vZKESYImkltRTNQ6IQKA7HN5DiF0pA7egLysU3r7nXgOUWIR75KndyPQkXyuzhftM1JrKpfNjtqAXB8qi/SnMgpKJX70gIpQipekCGWR1gzhfDUmQ30rzkvyj4pgy25Lur0NyB6aTDIfxzYgiVAhUZ4pAayx/wCLBnsEaQSvAwAAAABJRU5ErkJggg=="></div></div><!-- end ngIf: item.html -->
              </button><!-- end ngRepeat: item in shareMenuItems --><button ng-click="item.action($event)" class="menu-item ng-binding ng-scope menu-item-dudu" ng-repeat="item in shareMenuItems" ng-class="item.className" tabindex="0">
                <i class="icon icon-ic_share_dudu"></i>è¯»è¯»æ—¥æŠ¥
                <!-- ngIf: item.html -->
              </button><!-- end ngRepeat: item in shareMenuItems -->
            </menu>
          </div><!-- end ngIf: isPublished && !supportTouch -->
          <!-- ngIf: supportTouch -->

          <!-- ngIf: ownPost(post) -->

          <!-- ngIf: ownPost(post) -->

          <!-- ngIf: !ownPost(post) && isPublished --><a ng-if="!ownPost(post) &amp;&amp; isPublished" ng-click="report(post)" href="javascript:;" class="control-item report ng-scope"><i class="icon-ic_column_report"></i>ä¸¾æŠ¥</a><!-- end ngIf: !ownPost(post) && isPublished -->

        </div>

        <!-- ngIf: isPublished --><div class="left-section ng-scope" ng-if="isPublished">
          <div class="votes">
            <!-- ngIf: !ownPost(post) --><a ng-if="!ownPost(post)" ng-click="post.toggleLike()" class="control-item ng-binding ng-scope active" href="javascript:;" ng-class="{ active: post.rating == &#39;like&#39; }" style=""><i class="icon-ic_column_like"></i>3</a><!-- end ngIf: !ownPost(post) -->
            <!-- ngIf: ownPost(post) -->
          </div>
        </div><!-- end ngIf: isPublished -->

        <!-- ngIf: post.lastestLikers.length && !likers && isPublished --><div class="voters clearfix ng-scope" ng-if="post.lastestLikers.length &amp;&amp; !likers &amp;&amp; isPublished">
          <!-- ngRepeat: user in post.lastestLikers --><a href="https://www.zhihu.com/people/gu-xiang-li" target="_blank" data-title="é¡¾ç¥¥åˆ©" class="voter ng-scope" ng-repeat="user in post.lastestLikers">
            <img ng-src="https://pic1.zhimg.com/ce00591f8_im.jpg" alt="é¡¾ç¥¥åˆ©" class="avatar avatar-xs" src="./install-config-php-apache_files/ce00591f8_im.jpg">
          </a><!-- end ngRepeat: user in post.lastestLikers --><a href="https://www.zhihu.com/people/yan-rui-tong-56" target="_blank" data-title="ä¸€åªè¾£é¸¡" class="voter ng-scope" ng-repeat="user in post.lastestLikers">
            <img ng-src="https://pic1.zhimg.com/v2-3d90efbb528f253dcae57a87c8ef1a28_im.jpg" alt="ä¸€åªè¾£é¸¡" class="avatar avatar-xs" src="./install-config-php-apache_files/v2-3d90efbb528f253dcae57a87c8ef1a28_im.jpg">
          </a><!-- end ngRepeat: user in post.lastestLikers --><a href="https://www.zhihu.com/people/lt-omega" target="_blank" data-title="LT Omega" class="voter ng-scope" ng-repeat="user in post.lastestLikers">
            <img ng-src="https://pic2.zhimg.com/698791e42ae6733aedc95a0c5e593129_im.jpg" alt="LT Omega" class="avatar avatar-xs" src="./install-config-php-apache_files/698791e42ae6733aedc95a0c5e593129_im.jpg">
          </a><!-- end ngRepeat: user in post.lastestLikers -->
          <!-- ngIf: post.lastestLikers.length < post.likesCount && !fetchLikersPending -->
          <!-- ngIf: fetchLikersPending -->
        </div><!-- end ngIf: post.lastestLikers.length && !likers && isPublished -->
        <!-- ngIf: likers && isPublished -->

      </div>


      <!-- ngIf: contributes.length && isPublished --><!-- ngInclude: '/views/post-includes.html' --><div ng-include="&#39;/views/post-includes.html&#39;" class="included included-pc fx-item-fade ng-scope" ng-if="contributes.length &amp;&amp; isPublished">
<div class="block-title ng-scope" ng-class="scope.help &amp;&amp; block-title-help">
  <span ng-transclude=""><span class="ng-scope">æ–‡ç« è¢«ä»¥ä¸‹ä¸“æ æ”¶å½•</span></span>
  <!-- ngIf: help -->
</div>
<ul class="included-items ng-scope" ng-click="handleContributeClick($event)">
  <!-- ngRepeat: contribute in contributes --><li class="column-list-item fx-item-fade ng-isolate-scope" column="contribute.column" ng-repeat="contribute in contributes" contribute-info="contribute" index="$index">
  <p class="avatar">
    <a href="https://zhuanlan.zhihu.com/nodejh">
      <img alt="" ng-src="https://pic3.zhimg.com/v2-c7420021e5a19c00e9efb198237f248e_l.jpg" class="avatar-mid" src="./install-config-php-apache_files/v2-c7420021e5a19c00e9efb198237f248e_l.jpg">
    </a>
  </p>
  <p class="title">
    <a class="column-name ng-binding" href="https://zhuanlan.zhihu.com/nodejh">æ±Ÿæ¹–å¤œé›¨åå¹´ç¯</a>
    <span ng-show="contributeInfo.state == &#39;need_approved&#39;" class="bull ng-hide">Â·</span>
    <a ng-show="contributeInfo.state == &#39;need_approved&#39;" href="javascript:;" class="cancel-contribute ng-hide" ng-click="handleCancelContribute()">æŠ•ç¨¿ä¸­</a>
  </p>
  <p class="intro ng-binding">æ¡ƒææ˜¥é£ä¸€æ¯é…’ï¼Œæ±Ÿæ¹–å¤œé›¨åå¹´ç¯ã€‚</p>
  <a href="https://zhuanlan.zhihu.com/nodejh" class="btn btn-green-nborder enter">è¿›å…¥ä¸“æ </a>
</li><!-- end ngRepeat: contribute in contributes --></ul>
</div><!-- end ngIf: contributes.length && isPublished -->

      <!-- ngIf: isPublished && !isQQNews --><div class="entry-comments post-comments comment-box ng-isolate-scope empty" ng-show="expanded" ng-class="{ empty: !pending &amp;&amp; !comments.length }" ng-switch="pending" id="comments" ui-post-comments="" comments-placeholder="å†™ä¸‹ä½ çš„è¯„è®º" comment-need-review="commentNeedReview" comments-href="post.links.comments" comments-expanded="true" comments-post-owner="post.author" comments-status="commentsStatus" ng-if="isPublished &amp;&amp; !isQQNews" comments-style="pagination" locate-comment-id="locateCommentId">
  <div class="box-header" ng-switch="!!(isPostOwner(me) &amp;&amp; me.isOrg)">
    <!-- ngSwitchWhen: false --><div ng-switch-when="false" class="ng-scope">
      <div class="block-title ng-scope" ng-class="scope.help &amp;&amp; block-title-help">
  <span ng-transclude=""><span class="ng-binding ng-scope">
        è¿˜æ²¡æœ‰è¯„è®º

        </span><!-- ngInclude: '/views/post-comments-settings.html' --><span ng-include="&#39;/views/post-comments-settings.html&#39;" class="ng-scope">
<!-- ngIf: isPostOwner(me) -->
</span>
      </span>
  <!-- ngIf: help -->
</div>
    </div>

    <!-- ngSwitchWhen: true -->
  </div>

  <!-- ngSwitchWhen: false --><div ng-switch-when="false" class="ng-scope">
    <!-- ngIf: (status.canComment || status.forceShowCommentForm) && state === 'normal' --><form class="comment-form comment-box-ft ng-scope ng-invalid ng-invalid-content-required ng-dirty" ng-class="{ &#39;expanded&#39;: formExpanded }" name="commentForm" ng-if="(status.canComment || status.forceShowCommentForm) &amp;&amp; state === &#39;normal&#39;">
      <!-- ngIf: me.authed() --><img class="avatar avatar-small ng-scope" ng-src="https://pic1.zhimg.com/ce00591f8_l.jpg" ng-if="me.authed()" src="./install-config-php-apache_files/ce00591f8_l.jpg"><!-- end ngIf: me.authed() -->
      <div class="editable ng-invalid ng-invalid-content-required ng-dirty" ui-scraper="" scraper-options="scraperOptions" ui-mention="" ui-clean-paste="" ui-events="{focus:&#39;handleInputFocus($event)&#39;}" ui-ctrl-enter="addComment()" contenteditable="true" content-required="" ng-model="editingComment.content" holdertext="å†™ä¸‹ä½ çš„è¯„è®º" name="content" toggle-delay="250"><span class="holdertext" holdertext="1" contenteditable="false">å†™ä¸‹ä½ çš„è¯„è®º</span></div>
      <!-- ngIf: me.authed() --><div class="command clearfix ng-scope" ng-if="me.authed()">
        <button ng-disabled="savePending || !editingComment.content.replace(&#39;&lt;br&gt;&#39;, &#39;&#39;).trim()" ng-click="addComment()" class="save btn btn-blue" disabled="disabled">è¯„è®º</button>
        <button ng-click="expandForm(false, $event)" class="cancel btn btn-grey-nborder">å–æ¶ˆ</button>
      </div><!-- end ngIf: me.authed() -->
    </form><!-- end ngIf: (status.canComment || status.forceShowCommentForm) && state === 'normal' -->

    <!-- ngIf: (me.authed() && !isPostOwner(me) && !status.canComment) || status.permission == 'none' -->

    <!-- ngIf: loadStyle == 'infinite' -->

    <!-- ngIf: loadStyle == 'pagination' --><div class="comment-list-container ng-scope ng-isolate-scope ui-pagination" ng-if="loadStyle == &#39;pagination&#39;" url="commentHrefMap[state]" data="oriComments" extra="commentCountMap[state]" index="locateItemIndex" ui-pagination="">
      <ul class="comment-list">
        <!-- ngRepeat: comment in featureComments track by comment.id -->
        <!-- ngIf: featureComments.length -->
        <!-- ngRepeat: comment in comments track by comment.id -->
      </ul>
    <div class="ui-spinner-container ng-scope" style="display: none;"><div class="ui-spinner use-css" ui-spinner=""></div></div><!-- ngIf: pages --><div class="pagination ng-scope ng-hide" ng-if="pages" ng-show="total&gt;1">
  <!-- ngIf: current != 1 && total != 1 -->
  <!-- ngRepeat: p in pages track by $index --><button class="num btn btn-grey ng-binding ng-scope current btn-circle" ng-repeat="p in pages track by $index" ng-class="{current: p==current, disabled: p == &#39;...&#39;,  &#39;btn-circle&#39;: p==current, &#39;btn-circle-nborder&#39;: p!=current}" ng-click="changeTo(p, $event)" tabindex="0">1</button><!-- end ngRepeat: p in pages track by $index -->
  <!-- ngIf: current != total && total != 1 -->
</div><!-- end ngIf: pages --></div><!-- end ngIf: loadStyle == 'pagination' -->

  </div>

</div><!-- end ngIf: isPublished && !isQQNews -->

      <!-- ngIf: contributes.length && isPublished --><!-- ngInclude: '/views/post-includes.html' --><div ng-include="&#39;/views/post-includes.html&#39;" class="included included-mobile fx-item-fade ng-scope" ng-if="contributes.length &amp;&amp; isPublished">
<div class="block-title ng-scope" ng-class="scope.help &amp;&amp; block-title-help">
  <span ng-transclude=""><span class="ng-scope">æ–‡ç« è¢«ä»¥ä¸‹ä¸“æ æ”¶å½•</span></span>
  <!-- ngIf: help -->
</div>
<ul class="included-items ng-scope" ng-click="handleContributeClick($event)">
  <!-- ngRepeat: contribute in contributes --><li class="column-list-item fx-item-fade ng-isolate-scope" column="contribute.column" ng-repeat="contribute in contributes" contribute-info="contribute" index="$index">
  <p class="avatar">
    <a href="https://zhuanlan.zhihu.com/nodejh">
      <img alt="" ng-src="https://pic3.zhimg.com/v2-c7420021e5a19c00e9efb198237f248e_l.jpg" class="avatar-mid" src="./install-config-php-apache_files/v2-c7420021e5a19c00e9efb198237f248e_l.jpg">
    </a>
  </p>
  <p class="title">
    <a class="column-name ng-binding" href="https://zhuanlan.zhihu.com/nodejh">æ±Ÿæ¹–å¤œé›¨åå¹´ç¯</a>
    <span ng-show="contributeInfo.state == &#39;need_approved&#39;" class="bull ng-hide">Â·</span>
    <a ng-show="contributeInfo.state == &#39;need_approved&#39;" href="javascript:;" class="cancel-contribute ng-hide" ng-click="handleCancelContribute()">æŠ•ç¨¿ä¸­</a>
  </p>
  <p class="intro ng-binding">æ¡ƒææ˜¥é£ä¸€æ¯é…’ï¼Œæ±Ÿæ¹–å¤œé›¨åå¹´ç¯ã€‚</p>
  <a href="https://zhuanlan.zhihu.com/nodejh" class="btn btn-green-nborder enter">è¿›å…¥ä¸“æ </a>
</li><!-- end ngRepeat: contribute in contributes --></ul>
</div><!-- end ngIf: contributes.length && isPublished -->

    </footer>
  <div ng-show="zoomed" ng-animate="{show: &#39;in&#39;, hide: &#39;out&#39;}" class="lightbox-overlay ng-scope ng-hide"></div></article>


</div><!-- end ngIf: !notFound -->

<!-- ngIf: notFound -->

<!-- ngIf: isPublished && (!userColumn || isContributesAvailable()) --><div class="recommend-posts ng-scope" ng-if="isPublished &amp;&amp; (!userColumn || isContributesAvailable())">
  <div class="receptacle" ng-switch="recommendPending">
    <div class="block-title ng-scope" ng-class="scope.help &amp;&amp; block-title-help">
  <span ng-transclude=""><span class="ng-scope">æ¨èé˜…è¯»</span></span>
  <!-- ngIf: help -->
</div>

    <!-- ngSwitchWhen: true -->

    <!-- ngSwitchWhen: false --><ul ng-switch-when="false" class="recommend-post-list ng-scope">
      <!-- ngRepeat: post in recommendPosts --><li class="item ng-isolate-scope item-with-narrow-img" ng-class="itemClass" ng-repeat="post in recommendPosts" post="post" type="narrow" show-source="true" show-recommend="post.showRecommend">
  <article class="hentry">
    <a href="https://zhuanlan.zhihu.com/p/24651022" class="entry-link">
      <h1 class="entry-title ng-binding">ä¸€é”®è¯„æ•™è½¯ä»¶æ¶æ„åŠä»£ç åˆ†æ</h1>

      <!-- ngIf: titleImageShow --><div class="title-img-container ng-scope" ng-if="titleImageShow">
        <div class="title-img-preview" ng-style="{&#39;background-image&#39;: &#39;url(&#39; + post.titleImage + &#39;)&#39;}" style="background-image: url(&quot;https://pic1.zhimg.com/v2-c9924ba69d33652cc45fe1f992f6e814_b.png&quot;);">
        </div>
      </div><!-- end ngIf: titleImageShow -->

      <!-- ngIf: !titleImageShow -->

      <section class="entry-summary">
        <p ui-summary="post.content" max="truncateMax" class="ng-isolate-scope">å¤§åˆ°ä¸€ä¸ªä¼ä¸šçº§åº”ç”¨ï¼Œå°åˆ°ç±»ä¼¼äºè¯¥ä¸€é”®è¯„æ•™è½¯ä»¶ï¼Œéƒ½æœ‰è‡ªå·±çš„è½¯ä»¶æ¶æ„è®¾è®¡ã€‚é€šå¸¸æ¥è¯´ï¼Œå¯¹äºåŒä¸€ä¸ªéœ€æ±‚ï¼Œå®ç°æ–¹å¼æ˜¯å¤šç§å¤šæ ·çš„ã€‚å¦‚ä½•è®¾è®¡åº”ç”¨é€»â€¦
          <span class="read-all">æŸ¥çœ‹å…¨æ–‡<i class="icon-ic_unfold"></i></span>
        </p>
      </section>
    </a>

    <footer>
      <div class="entry-meta">
        <a target="_blank" href="https://www.zhihu.com/people/nodejh" class="author name ng-binding">è’‹èˆª</a>
        <span class="bull" ng-click="test()">Â·</span>
        <time ng-class="{short: timeStyle == &#39;short&#39;}" ui-hover-title="2016 å¹´ 12 æœˆ 30 æ—¥æ˜ŸæœŸäº”æ™šä¸Š 10 ç‚¹ 41 åˆ†" ui-time="" datetime="2016-12-30T22:41:34+08:00" class="published ng-binding ng-isolate-scope hover-title">12 å¤©å‰</time>
        <!-- ngIf: showRecommend -->
        <!-- ngIf: showRecommend -->
      </div>

      <!-- ngIf: !showSource -->

      <!-- ngIf: showSource && post.column --><div class="entry-source ng-scope" ng-if="showSource &amp;&amp; post.column">
        <span class="source-prefix">å‘è¡¨äº</span>
        <!-- ngIf: post.column --><a href="https://zhuanlan.zhihu.com/nodejh" ng-if="post.column" class="ng-binding ng-scope">æ±Ÿæ¹–å¤œé›¨åå¹´ç¯</a><!-- end ngIf: post.column -->
      </div><!-- end ngIf: showSource && post.column -->
    </footer>


  </article>
</li><!-- end ngRepeat: post in recommendPosts --><li class="item ng-isolate-scope item-with-narrow-img" ng-class="itemClass" ng-repeat="post in recommendPosts" post="post" type="narrow" show-source="true" show-recommend="post.showRecommend">
  <article class="hentry">
    <a href="https://zhuanlan.zhihu.com/p/24594294" class="entry-link">
      <h1 class="entry-title ng-binding">AJAX ä¹‹ XHR, jQuery, Fetch çš„å¯¹æ¯”</h1>

      <!-- ngIf: titleImageShow --><div class="title-img-container ng-scope" ng-if="titleImageShow">
        <div class="title-img-preview" ng-style="{&#39;background-image&#39;: &#39;url(&#39; + post.titleImage + &#39;)&#39;}" style="background-image: url(&quot;https://pic1.zhimg.com/v2-4d75cafe79ac303d4c14b4f579617a64_b.png&quot;);">
        </div>
      </div><!-- end ngIf: titleImageShow -->

      <!-- ngIf: !titleImageShow -->

      <section class="entry-summary">
        <p ui-summary="post.content" max="truncateMax" class="ng-isolate-scope">æœ¬æ–‡è¯¦ç»†è®²è¿°å¦‚ä½•ä½¿ç”¨åŸç”Ÿ JSã€jQuery å’Œ Fetch æ¥å®ç° AJAXã€‚AJAX å³ Asynchronous JavaScript and XMLï¼Œå¼‚æ­¥çš„ JavaScript å’Œ XMLã€‚ä½¿ç”¨ AJâ€¦
          <span class="read-all">æŸ¥çœ‹å…¨æ–‡<i class="icon-ic_unfold"></i></span>
        </p>
      </section>
    </a>

    <footer>
      <div class="entry-meta">
        <a target="_blank" href="https://www.zhihu.com/people/nodejh" class="author name ng-binding">è’‹èˆª</a>
        <span class="bull" ng-click="test()">Â·</span>
        <time ng-class="{short: timeStyle == &#39;short&#39;}" ui-hover-title="2016 å¹´ 12 æœˆ 27 æ—¥æ˜ŸæœŸäºŒæ™šä¸Š 8 ç‚¹ 12 åˆ†" ui-time="" datetime="2016-12-27T20:12:11+08:00" class="published ng-binding ng-isolate-scope hover-title">15 å¤©å‰</time>
        <!-- ngIf: showRecommend -->
        <!-- ngIf: showRecommend -->
      </div>

      <!-- ngIf: !showSource -->

      <!-- ngIf: showSource && post.column --><div class="entry-source ng-scope" ng-if="showSource &amp;&amp; post.column">
        <span class="source-prefix">å‘è¡¨äº</span>
        <!-- ngIf: post.column --><a href="https://zhuanlan.zhihu.com/nodejh" ng-if="post.column" class="ng-binding ng-scope">æ±Ÿæ¹–å¤œé›¨åå¹´ç¯</a><!-- end ngIf: post.column -->
      </div><!-- end ngIf: showSource && post.column -->
    </footer>


  </article>
</li><!-- end ngRepeat: post in recommendPosts --><li class="item ng-isolate-scope item-with-narrow-img item-recommend" ng-class="itemClass" ng-repeat="post in recommendPosts" post="post" type="narrow" show-source="true" show-recommend="post.showRecommend">
  <article class="hentry">
    <a href="https://zhuanlan.zhihu.com/p/24337023" class="entry-link">
      <h1 class="entry-title ng-binding">AccessibilityServiceä»å…¥é—¨åˆ°å‡ºè½¨</h1>

      <!-- ngIf: titleImageShow --><div class="title-img-container ng-scope" ng-if="titleImageShow">
        <div class="title-img-preview" ng-style="{&#39;background-image&#39;: &#39;url(&#39; + post.titleImage + &#39;)&#39;}" style="background-image: url(&quot;https://pic4.zhimg.com/v2-768ab120c9150382262c51837274d93f_b.jpg&quot;);">
        </div>
      </div><!-- end ngIf: titleImageShow -->

      <!-- ngIf: !titleImageShow -->

      <section class="entry-summary">
        <p ui-summary="post.content" max="truncateMax" class="ng-isolate-scope">AccessibilityServiceä»å…¥é—¨åˆ°å‡ºè½¨AccessibilityServiceæ ¹æ®å®˜æ–¹çš„ä»‹ç»ï¼Œæ˜¯æŒ‡å¼€å‘è€…é€šè¿‡å¢åŠ ç±»ä¼¼contentDescriptionçš„å±æ€§ï¼Œä»è€Œåœ¨ä¸ä¿®æ”¹ä»£ç â€¦
          <span class="read-all">æŸ¥çœ‹å…¨æ–‡<i class="icon-ic_unfold"></i></span>
        </p>
      </section>
    </a>

    <footer>
      <div class="entry-meta">
        <a target="_blank" href="https://www.zhihu.com/people/xu-yi-sheng" class="author name ng-binding">å¾å®œç”Ÿ</a>
        <span class="bull" ng-click="test()">Â·</span>
        <time ng-class="{short: timeStyle == &#39;short&#39;}" ui-hover-title="2016 å¹´ 12 æœˆ 13 æ—¥æ˜ŸæœŸäºŒä¸­åˆ 11 ç‚¹ 08 åˆ†" ui-time="" datetime="2016-12-13T11:08:01+08:00" class="published ng-binding ng-isolate-scope hover-title">1 ä¸ªæœˆå‰</time>
        <!-- ngIf: showRecommend --><span ng-if="showRecommend" class="bull ng-scope">Â·</span><!-- end ngIf: showRecommend -->
        <!-- ngIf: showRecommend --><span class="recommend-post ng-scope" ng-if="showRecommend">ç¼–è¾‘ç²¾é€‰</span><!-- end ngIf: showRecommend -->
      </div>

      <!-- ngIf: !showSource -->

      <!-- ngIf: showSource && post.column -->
    </footer>


  </article>
</li><!-- end ngRepeat: post in recommendPosts --><li class="item ng-isolate-scope item-with-narrow-img item-recommend" ng-class="itemClass" ng-repeat="post in recommendPosts" post="post" type="narrow" show-source="true" show-recommend="post.showRecommend">
  <article class="hentry">
    <a href="https://zhuanlan.zhihu.com/p/24106569" class="entry-link">
      <h1 class="entry-title ng-binding">HIV/AIDS æ‰€æœ‰ä½ éœ€è¦çŸ¥é“çš„å¸¸è¯†</h1>

      <!-- ngIf: titleImageShow --><div class="title-img-container ng-scope" ng-if="titleImageShow">
        <div class="title-img-preview" ng-style="{&#39;background-image&#39;: &#39;url(&#39; + post.titleImage + &#39;)&#39;}" style="background-image: url(&quot;https://pic4.zhimg.com/v2-6eac40c22936c7b88310917598547adb_b.png&quot;);">
        </div>
      </div><!-- end ngIf: titleImageShow -->

      <!-- ngIf: !titleImageShow -->

      <section class="entry-summary">
        <p ui-summary="post.content" max="truncateMax" class="ng-isolate-scope">04/12/2016 æ›´æ–°æœ‰å­¦æ ¡çº¢åå­—ä¼šçš„åŒå­¦ç§ä¿¡æˆ‘è¯´æƒ³è½¬è½½ã€‚ä¹‹å‰ä¸å¼€æ”¾è½¬è½½æ˜¯å› ä¸ºé‡Œé¢æœ‰ä¸€äº›èµ„æ–™å±äºæ•™å­¦ææ–™ï¼Œç‰ˆæƒé—®é¢˜æ¯”è¾ƒæ•æ„Ÿ.. è¶è¿™ä¸ªæœºä¼šæŠŠreâ€¦
          <span class="read-all">æŸ¥çœ‹å…¨æ–‡<i class="icon-ic_unfold"></i></span>
        </p>
      </section>
    </a>

    <footer>
      <div class="entry-meta">
        <a target="_blank" href="https://www.zhihu.com/people/zhang-tian-qi-96-24" class="author name ng-binding">Charles Zhang</a>
        <span class="bull" ng-click="test()">Â·</span>
        <time ng-class="{short: timeStyle == &#39;short&#39;}" ui-hover-title="2016 å¹´ 12 æœˆ 2 æ—¥æ˜ŸæœŸäº”ä¸­åˆ 11 ç‚¹ 20 åˆ†" ui-time="" datetime="2016-12-02T11:20:44+08:00" class="published ng-binding ng-isolate-scope hover-title">1 ä¸ªæœˆå‰</time>
        <!-- ngIf: showRecommend --><span ng-if="showRecommend" class="bull ng-scope">Â·</span><!-- end ngIf: showRecommend -->
        <!-- ngIf: showRecommend --><span class="recommend-post ng-scope" ng-if="showRecommend">ç¼–è¾‘ç²¾é€‰</span><!-- end ngIf: showRecommend -->
      </div>

      <!-- ngIf: !showSource -->

      <!-- ngIf: showSource && post.column -->
    </footer>


  </article>
</li><!-- end ngRepeat: post in recommendPosts --></ul>

  </div>
</div><!-- end ngIf: isPublished && (!userColumn || isContributesAvailable()) -->



<!-- ngIf: contributeRequests -->


<!-- ngIf: showReviewPanel -->
</main>

    <script src="./install-config-php-apache_files/712219da.angular.all.js"></script>

    
    <script src="./install-config-php-apache_files/eac22011.compiled.js"></script>
    
    <script src="./install-config-php-apache_files/85b9f501.scripts.js"></script>

    <script>
      var _gaq=[
        ['_setAccount','UA-20961733-1'],
        ['_setDomainName', 'zhihu.com'],
        ['_trackPageview']
      ];
      window.onload=function(){/no-js/.test(document.documentElement.className)&&_gaq.push(['_trackEvent','columnwebapp','pageblank'])};
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';g.async=1;
      s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>

  

<!-- Begin Templates -->
<script type="text/ng-template" id="/scripts/auth/dialog-activate.html">
<div class="modal-dialog activate-dialog">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">æ¿€æ´»å¸å·</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    <div class="activate-form">
      <p class="message">ä¸ºäº†æ­£å¸¸ä½¿ç”¨çŸ¥ä¹ä¸“æ ï¼Œè¯·å‰å¾€è®¾ç½®æ¿€æ´»å¸å·ã€‚</p>
      <p class="center">
        <a target="_blank" href="https://www.zhihu.com/settings/account" class="btn btn-blue">å‰å¾€æ¿€æ´»</a>
      </p>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/auth/dialog.html">
<div class="modal-dialog login-dialog">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">è¯·ç™»å½•</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    <div class="login-form-wrapper">
      <a href="{{loginUrls.mail()}}" class="login-button btn btn-blue btn-lg">çŸ¥ä¹å¸å·ç™»å½•</a>
    </div>
    <a href="{{signupUrl()}}" class="signup">æ²¡æœ‰çŸ¥ä¹å¸å·ï¼Ÿç°åœ¨æ³¨å†Œ <i class="icon-ic_unfold"></i></a>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/avatar/avatar-editor.html">
<div class="modal-dialog avatar-editor-dialog" ui-dialog="" tabindex="-1" open="show">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">å¤´åƒè£å‰ª</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content"></div>

  <div class="modal-dialog-buttons">
    <button name="cancel">å–æ¶ˆ</button>
    <button name="yes" ng-click="submit($event)">ç¡®è®¤</button>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/contribute/dialog.html">
<div class="modal-dialog contribute-dialog" tabindex="-1">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">æŠ•ç¨¿</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content empty" ng-if="myPosts && !myPosts.length">
    æ²¡æœ‰å¯ä»¥æŠ•ç¨¿åˆ°è¯¥ä¸“æ çš„æ–‡ç« ã€‚
  </div>

  <div class="empty modal-dialog-content" ng-if="!myPosts">
    <div ui-spinner=""></div>
  </div>

  <div class="modal-dialog-content empty" ng-show="showSuccess">
    <i class="icon-ic_prompt_done notice-success"></i>
    æ–‡ç« å·²æŠ•é€’ï¼Œè¢«ä¸“æ æ”¶å½•åä½ ä¼šæ”¶åˆ°æ¶ˆæ¯é€šçŸ¥ã€‚
  </div>


  <div class="modal-dialog-content" ng-if="myPostsCount && !showSuccess">
    <div class="description">é€‰æ‹©è¦æŠ•ç¨¿åˆ°è¯¥ä¸“æ çš„æ–‡ç« ï¼Œæ”¶åˆ°æŠ•ç¨¿åä¸“æ ç¼–è¾‘å°†å®¡é˜…å¤„ç†ã€‚</div>

    <div class="selected-post" ng-show="selectedPost">
      {{selectedPost.title}}
      <i class="icon-ic_close" ng-click="removeSelectedPost()"></i>
    </div>
    <div class="mui-container-search" ng-hide="selectedPost">
      <input class="mui-input js-input" ui-suggest="" suggest-options="suggestOptions" placeholder="æœç´¢ä½ çš„æ–‡ç« ...">
    </div>
  </div>

  <div class="modal-dialog-buttons" ng-if="myPostsCount && !showSuccess">
    <button ng-disabled="!selectedPost" class="btn btn-blue btn-sm" name="yes" ng-click="submit()">ç¡®å®š</button>
  </div>

</div>
</script>

<script type="text/ng-template" id="/scripts/recommend/dialog-recommend.html">
<div class="modal-dialog" tabindex="-1">
    <div class="modal-dialog-title">
        <span class="modal-dialog-title-text">æ¨èåˆ°çŸ¥ä¹æ—¥æŠ¥</span>
        <span class="modal-dialog-title-close"></span>
    </div>

    <div class="modal-dialog-content share-dialog-content">
        <div class="share-dialog-section">
            {{title}}
        </div>
        <div class="share-dialog-section">
            <textarea class="share-dialog-textarea" placeholder="æ¨èç†ç”±ã€å¤‡æ³¨æˆ–å…¶ä»–ï¼ˆé€‰å¡«ï¼‰" ng-model="reason" autofocus=""></textarea>
        </div>
    </div>

    <div class="modal-dialog-buttons">
        <button name="cancel">å–æ¶ˆ</button>
        <button name="yes" ng-click="submit()">æ¨è</button>
    </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/report/dialog-report.html">
<div class="modal-dialog report-dialog" tabindex="-1">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">{{config.title}}</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    <form class="report-form" name="reportForm">
      <ul class="options clearfix">
        <li ng-repeat="code in config.reasons">
          <label><input ng-model="formData.reason" required="" value="{{code}}" name="reason" type="radio" class="mui-radio">{{Reasons[code]}}</label>
        </li>
      </ul>
      <p class="error-container" ng-if="errorShow && reportForm.$invalid">
        <span ng-if="reportForm.reason.$invalid" class="error">è¯·é€‰æ‹©ä¸¾æŠ¥ç†ç”±</span>
        <span ng-if="reportForm.detail.$invalid" class="error">ä¸¾æŠ¥ç†ç”±ä¸º 2-100 å­—</span>
      </p>
      <p class="footnote"></p>
    </form>
  </div>

  <div class="modal-dialog-buttons">
    <button name="cancel">å–æ¶ˆ</button>
    <button name="yes" ng-click="submit($event)">ç¡®è®¤</button>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/tipjar/dialog-active.html">
<div class="modal-dialog tipjar-activate-dialog" tabindex="-1" ng-init="agreed=true" ng-switch="post.tipjarState == 'activated'">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">æƒ³å¯¹è¯»è€…è¯´çš„è¯</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    <form name="activeForm">
      <div class="active-description">
        <input ng-model="post.tipjarTagLine" name="intro" class="mui-input" placeholder="{{defaultTagLine}}" word-max="20" autocomplete="off">
        <div class="tips">
          <div ng-if="activeForm.intro.$valid" class="right">{{post.tipjarTagLine | wordlen}}/20</div>
          <div class="error right" ng-if="activeForm.intro.$error.wordMax">{{post.tipjarTagLine | wordlen}}/20</div>
        </div>
        <div class="agreement" ng-switch-when="false">
          <label>
            <input ng-model="$parent.agreed" type="checkbox" class="mui-checkbox-simple">
            æˆ‘å·²åŒæ„<a href="http://www.zhihu.com/terms/tipjar" target="_blank">ã€ŠçŸ¥ä¹èµèµåŠŸèƒ½ä½¿ç”¨åè®®ã€‹</a>
          </label>
        </div>
      </div>
    </form>
  </div>

  <div class="modal-dialog-buttons">
    <button name="cancel">å–æ¶ˆ</button>
    <button name="yes" ng-click="submit($event)" ng-disabled="!agreed">
      <span ng-switch-when="false">å¼€å¯èµèµ</span>
      <span ng-switch-when="true">ç¡®å®š</span>
    </button>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/tipjar/dialog-bind.html">
<div class="modal-dialog tipjar-bind-dialog" tabindex="-1">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">å¼€å¯èµèµ</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    ç»‘å®šå¾®ä¿¡åæ–¹å¯å¼€å¯èµèµåŠŸèƒ½
  </div>

  <div class="modal-dialog-buttons">
    <button name="cancel">å–æ¶ˆ</button>
    <button name="yes" ng-click="bind()">å‰å¾€ç»‘å®š</button>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/tipjar/dialog-follow.html">
<div class="modal-dialog tipjar-follow-dialog" tabindex="-1">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">å…³æ³¨å…¬ä¼—å·</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content clearfix">
    <img alt="" src="/images/b9a4e02c.zhihu-official.jpg" class="tipjar-zh-qrcode">
    <div class="description">
      å†…æµ‹æœŸé—´ï¼Œè¯·å…ˆå…³æ³¨ã€ŒçŸ¥ä¹ã€å¾®ä¿¡å…¬ä¼—å¸å·ï¼Œä»¥ä¾¿å®æ—¶ç»“ç®—ä½ çš„èµèµæ”¶å…¥åˆ°å¾®ä¿¡é›¶é’±ã€‚
    </div>
  </div>

  <div class="modal-dialog-buttons">
    <div class="error" ng-if="errMsg">{{errMsg}}</div>
    <button name="yes" ng-click="followed($event)">æˆ‘å·²å…³æ³¨</button>
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/tipjar/dialog-tip.html">
<div class="modal-dialog tipjar-tip-dialog" tabindex="-1">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text"></span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content" ng-if="!showSuccess">
    <div class="author">
      <a href="{{post.author.profileUrl}}" target="_blank" data-title="{{post.author.name}}">
        <img alt="{{post.author.name}}" ng-src="{{post.author.avatar | avatarUrl:26}}" class="avatar avatar-xs">
        {{post.author.name}}
      </a>
    </div>
    <div class="tipjar-tagline">{{post.tipjarTagLine}}</div>
    <div class="amount-list" ng-hide="paying">
      <button class="btn btn-red" ng-repeat="item in amountList" ng-click="selectAmount($event, $index)"><b>{{item}}</b> å…ƒ</button>
    </div>
    <div class="amount-custom" ng-hide="paying">
      <div class="amount-custom-btn" ng-if="!customShow">
        <a ng-click="showCustom()" href="javascript:;">è‡ªå®šä¹‰é‡‘é¢</a>
      </div>
      <div class="amount-custom-form" ng-if="customShow">
        <form name="amountForm" action="" method="GET" ng-submit="handleDoTip($event, tip)">
          <input ng-model="tip" name="tip" class="mui-input" placeholder="ä½ æƒ³èµèµçš„é‡‘é¢ï¼ˆä¸è¶…è¿‡ 20000ï¼‰" int-max="20000" required="" autocomplete="off">
          <button type="submit" class="btn btn-blue btn-60_32" ng-disabled="amountForm.tip.$invalid">ç¡®è®¤</button>
          <div class="tips">
            <div class="error" ng-if="amountForm.tip.$error.intMax">ä¸èƒ½è¶…è¿‡ 20000 å…ƒ</div>
          </div>
        </form>
      </div>
    </div>
    <div class="amount-list amount-list-custom" ng-show="paying">
      <button class="btn btn-red-fill"><b>{{amount}}</b> å…ƒ</button>
    </div>
    <div class="pay-spinner" ng-if="payLoading">
      <div ui-spinner=""></div>
    </div>
    <div class="tipjar-payWechat" ng-if="paying && !payLoading && currentPaymentMethod === 'wechat'">
      <p><i class="icon-ic_wechatpay"></i>å¾®ä¿¡æ”¯ä»˜</p>
      <p ng-if="envType != 'wechat'">ä½¿ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç å®Œæˆæ”¯ä»˜</p>
      <div ui-spinner="" ng-if="wechatLoading"></div>
      <div ng-if="!wechatLoading" id="PayQRCode"></div>
    </div>
    <div class="tipjar-payBalance" ng-if="paying && !payLoading && currentPaymentMethod === 'balance'">
      <p><i class="icon-wallet"></i>ä½¿ç”¨ä½™é¢ï¼ˆå‰©ä½™ {{(balance.amount/100).toFixed(2)}}ï¼‰</p>
      <div class="pay-description">è¾“å…¥ 6 ä½æ•°å­—æ”¯ä»˜å¯†ç </div>
      <ui-num-code code="payPassword.code"></ui-num-code>
      <div class="error" ng-style="{'visibility': payError ? 'visible':'hidden'}">{{payError}}</div>
      <div class="help">å¦‚å¿˜è®°å¯†ç ï¼Œè¯·é‚®ä»¶è”ç³» i@zhihu.com</div>
    </div>
    <div class="tipjar-paySMS" ng-if="paying && !payLoading && currentPaymentMethod === 'sms'">
      <div class="pay-description">{{smsDescription}}</div>
      <div class="sms-code-input">
        <input ng-model="smsCode" class="mui-input" placeholder="è¾“å…¥ 6 ä½éªŒè¯ç ">
        <button ng-disabled="sendingSMS" class="btn" ng-click="!sendingSMS && handleSendSMS()">{{ sendingSMS ? (sendingSMS + ' ç§’åé‡è¯•') : 'å‘é€éªŒè¯ç ' }}</button>
      </div>
      <div class="footer">
        <div class="error" ng-style="{'visibility': payError ? 'visible':'hidden'}">{{payError}}</div>
        <button class="btn btn-blue btn-60_32" ng-disabled="!smsCode" ng-click="smsCode && handleSMSPay(smsCode)">ç¡®è®¤</button>
      </div>
    </div>
    <div class="tipjar-payMethods" ng-if="paying && !payLoading && currentPaymentMethod === 'both'">
      <a class="wechat-pay" href="javascript:;" ng-click="handleWechatPay()"><i class="icon-ic_wechatpay"></i>å¾®ä¿¡æ”¯ä»˜</a>
      <a class="balance-pay" ng-if="balance.enable" href="javascript:;" ng-click="handleBalancePay()"><i class="icon-wallet"></i>ä½¿ç”¨ä½™é¢ï¼ˆå‰©ä½™ {{(balance.amount/100).toFixed(2)}}ï¼‰</a>
      <a class="balance-pay disabled" ng-if="!balance.enable" href="javascript:;"><i class="icon-wallet"></i>ä½¿ç”¨ä½™é¢ï¼ˆå‰©ä½™ {{(balance.amount/100).toFixed(2)}}ï¼‰</a>
    </div>
  </div>

  <div class="modal-dialog-content tip-success-content" ng-if="showSuccess">
    <i class="icon-ic_prompt_done notice-success"></i>
    <div class="result-description">
      å·²èµèµ <a href="{{post.author.profileUrl}}" target="_blank">{{post.author.name}}</a> {{amount}} å…ƒ
    </div>
    <div class="tipjar-share" ng-if="envType != 'wechat'">
      <p class="description">
        åˆ†äº«è¿™ç¯‡è¶…æ£’çš„æ–‡ç« 
      </p>
      <div class="share-list">
        <a href="javascript:;" ng-click="item.action()" class="menu-item" ng-repeat="item in shareItems" ng-class="item.className">
          <i class="icon {{item.icon}}"></i>{{item.label}}
          <div class="extra" ng-if="item.html" ng-bind-html="item.html"></div>
        </a>
      </div>
    </div>
  </div>

  <div class="modal-dialog-buttons">
  </div>
</div>
</script>

<script type="text/ng-template" id="/scripts/tipjar/tipjar-user.html">
<a href="{{user.profileUrl || 'javascript:;'}}" target="{{user.profileUrl ? '_blank': '_self'}}" data-title="{{user.name || 'å¾®ä¿¡ç”¨æˆ·'}}" class="tipjaror" ng-switch="!!+user.slug">
  <img ng-src="{{user.avatar | avatarUrl:26}}" alt="{{user.name}}" class="avatar avatar-xs" ng-switch-when="true">
  <img alt="å¾®ä¿¡ç”¨æˆ·" src="https://pic3.zhimg.com/c47e615b8605938a955b68ee2e462c5e_m.png" class="avatar avatar-xs" ng-switch-when="false">
</a>
</script>

<script type="text/ng-template" id="/scripts/tipjar/tipjar.html">
<div class="tipjar-container" ng-class="{'owner-tipjar-container': ownPost(post)}" ng-switch="post.tipjarState == 'activated'" id="tipjar">
  <div ng-switch-when="true">
    <div class="tipjar-tagline">
      ã€Œ{{post.tipjarTagLine}}ã€
      <a ng-if="ownPost(post)" href="javascript:;" ng-click="editTipjar()"><i class="icon-ic_column_edit"></i></a>
    </div>
    <div class="tipjar-button-container" ng-if="!ownPost(post)">
      <button class="btn btn-red-fill" ng-click="tip()">èµèµ</button>
    </div>
    <div class="tipjar-description" ng-if="!post.tipjarorCount" ng-switch="!!ownPost(post)">
      <span ng-switch-when="false">è¿˜æ²¡æœ‰äººèµèµï¼Œå¿«æ¥å½“ç¬¬ä¸€ä¸ªèµèµçš„äººå§ï¼</span>
      <span ng-switch-when="true">è¿˜æ²¡æœ‰äººèµèµã€‚<br>ä½ å¯ä»¥åˆ†äº«æ–‡ç« ï¼Œè®©æ–‡ç« è¢«æ›´å¤šäººçœ‹åˆ°ã€‚</span>
    </div>
    <div class="tipjaror-list-container" ng-if="post.tipjarorCount">
      <div class="tipjar-description"><b>{{post.tipjarorCount}}</b> äººèµèµ<span ng-if="ownPost(post)">äº† <b>{{tipjarAmount}}</b> å…ƒ</span></div>
      <div class="tipjaror-list" ng-if="!tipjarors">
        <ui-tipjar-user ng-repeat="user in post.lastestTipjarors"></ui-tipjar-user>
        <a href="javascript:;" title="æŸ¥çœ‹å…¨éƒ¨" class="more-tipjarors" ng-if="post.lastestTipjarors.length < post.tipjarorCount && !fetchTipjarorsPending" ng-click="viewAllTipjaror()">
          <i class="icon-ic_like_more"></i>
        </a>
        <a class="more-tipjarors" ng-if="fetchTipjarorsPending">
          <div ui-spinner="" class="half"></div>
        </a>
      </div>
      <div class="tipjaror-list" ng-if="tipjarors">
        <ui-tipjar-user ng-repeat="user in tipjarors"></ui-tipjar-user>
      </div>
    </div>
  </div>
  <div ng-switch-when="false" class="tipjar-activate">
    <div class="tipjar-button-container">
      <button class="btn btn-red-fill" ng-click="activeTipjar()">
        <span ng-if="!activeStateLoading">å¼€å¯èµèµ</span>
        <span ng-if="activeStateLoading">ã€€ã€€ã€€ã€€<span ui-spinner="" class="half"></span></span>

      </button>
    </div>
    <div class="tipjar-description">
      èµèµå¼€å¯åï¼Œè¯»è€…å°†å¯ä»¥ä»˜è´¹æ”¯æŒä½ çš„åˆ›ä½œã€‚
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/403.html">
<div class="server-error-container">
  <div class="error-code">403</div>
  <div class="error-description">æŠ±æ­‰ï¼Œæ²¡æœ‰æƒé™è®¿é—®</div>
  <div class="discover">
    <a class="btn btn-blue btn-lg" href="/">è¿”å›ä¸“æ  Â· å‘ç° Â»</a>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/404.html">
<div class="server-error-container">
  <div class="error-code">404</div>
  <div class="error-description">æŠ±æ­‰ï¼Œæ²¡æœ‰æ‰¾åˆ°è¯¥é¡µé¢</div>
  <div class="discover">
    <a class="btn btn-blue btn-lg" href="/">è¿”å›ä¸“æ  Â· å‘ç° Â»</a>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/500.html">
<div class="server-error-container">
  <div class="error-code">500</div>
  <div class="error-description">{{message || 'æœåŠ¡å™¨æäº†ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç¨å€™å†è¯•ã€‚'}}</div>
  <div class="discover">
    <a class="btn btn-blue btn-lg" href="/">è¿”å›ä¸“æ  Â· å‘ç° Â»</a>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/column-about.html">
<div class="main receptacle">
  <h3>å…³äº</h3>
  <div class="header clearfix">
    <div class="avatar-link">
      <img class="avatar-big" alt="" ng-src="{{column.avatar | avatarUrl:100}}">
    </div>
    <div class="column-title">
      <h1>{{column.name}}</h1>
      <h2>{{column.intro}}</h2>
    </div>
  </div>
  <div class="column-topics">
    <ui-block-title>ä¸“æ è¯é¢˜</ui-block-title>
    <p class="tags">
      <span class="normal-tag-link" ng-repeat="topic in column.topics">{{topic.name}}</span>
    </p>
  </div>
  <div class="column-description">
    <ui-block-title>ä¸“æ ä»‹ç»</ui-block-title>
    <p ng-bind-html="column.description"></p>
  </div>
  <div class="editors">
    <ui-block-title data-help="èƒ½å‘å¸ƒæ–‡ç« å¹¶ç®¡ç†ä¸“æ ã€‚">ç¼–è¾‘</ui-block-title>
    <ul class="editor-list">
      <ui-user-item ng-repeat="user in editors" user="user" column="column">
    </ul>
  </div>
  <div class="authors" ng-if="authors.length">
    <ui-block-title data-help="èƒ½å‘å¸ƒæ–‡ç« æˆ–å‘å¸ƒè¿‡æ–‡ç« ã€‚">ä½œè€…</ui-block-title>
    <ul class="author-list">
      <ui-user-item ng-repeat="user in authors" user="user" column="column">
    </ul>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/column-followers.html">
<div class="main receptacle column-followers-main">

  <h2 class="page-title">{{column.followersCount}} äººå…³æ³¨è¯¥ä¸“æ </h2>

  <div ui-infinite="" data-source="source">

    <p class="items-empty" ng-show="!source.pending && !followers.length">
      <i class="icon" ng-class="{true: 'icon-error-500', false: 'icon-no-article'}[source.error]"></i>
      {{source.error && 'æœåŠ¡å™¨æäº†ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç¨å€™å†è¯•ã€‚' || 'è¿˜æ²¡æœ‰å…³æ³¨è€…'}}
    </p>

    <ul class="column-followers clearfix">
      <ui-user-item ng-repeat="user in followers" user="user">
    </ul>

  </div>

</div>
</script>

<script type="text/ng-template" id="/views/column-item.html">
<li class="column-list-item fx-item-fade">
  <p class="avatar">
    <a href="{{column.url}}">
      <img alt="" ng-src="{{column.avatar | avatarUrl:48}}" class="avatar-mid">
    </a>
  </p>
  <p class="title">
    <a class="column-name" href="{{column.url}}">{{column.name}}</a>
    <span ng-show="contributeInfo.state == 'need_approved'" class="bull">Â·</span>
    <a ng-show="contributeInfo.state == 'need_approved'" href="javascript:;" class="cancel-contribute" ng-click="handleCancelContribute()">æŠ•ç¨¿ä¸­</a>
  </p>
  <p class="intro">{{column.intro | truncateHtml:64}}</p>
  <a href="{{column.url}}" class="btn btn-green-nborder enter">è¿›å…¥ä¸“æ </a>
</li>
</script>

<script type="text/ng-template" id="/views/column-request.html">
<div class="top"></div>

<div class="main receptacle">
  <div ng-if="!me.isOrg || me.isOrgWhiteList">
    <h2>ç”³è¯·åˆ›å»ºä¸“æ </h2>
    <article class="description">
      <p>
        ä¸“æ æ—¨åœ¨ä¸ºç‰¹å®šä¸»é¢˜ä¸‹æœ‰æŒç»­åˆ›ä½œåŠåˆä½œå†™ä½œéœ€æ±‚çš„ç”¨æˆ·æä¾›å†™ä½œå·¥å…·ï¼Œåˆ›å»ºä¸“æ éœ€è¦è¿›è¡Œç”³è¯·ï¼Œé€šè¿‡å®¡æ ¸åå³å¯ä½¿ç”¨ã€‚
      </p>

      <h5>ç”³è¯·äººéœ€æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</h5>
      <ul>
        <li>ä¸“æ é¡»ç”±æœ¬äººç”³è¯·ï¼Œä¸å¯ä»£ä¸ºç”³è¯·ï¼›</li>
        <li>ç”³è¯·å¸å·çš„ç”¨æˆ·ä¿¡æ¯éœ€ç¬¦åˆ<a href="https://www.zhihu.com/question/19551824" target="_blank">ã€ŠçŸ¥ä¹ç”¨æˆ·ä¿¡æ¯ç®¡ç†è§„èŒƒã€‹</a>ï¼›</li>
        <li>90 å¤©å†…åœ¨çŸ¥ä¹ç«™å†…æ— <a href="https://www.zhihu.com/question/19790711" target="_blank">ã€ŠçŸ¥ä¹ç¤¾åŒºç®¡ç†è§„å®šã€‹</a>ä¸­è§„å®šçš„è¿è§„è¡Œä¸ºã€‚</li>
      </ul>
      <h5>ç”³è¯·ä¸“æ çš„å†…å®¹æ–¹å‘ï¼š</h5>
      <p class="nm">ä¸“æ éœ€è¦æœ‰æ˜ç¡®çš„å†™ä½œæ–¹å‘ï¼Œæˆ‘ä»¬æ›´æ¬¢è¿ä¸“ä¸šæ–¹å‘çš„åˆ†äº«ï¼Œéƒ¨åˆ†æ–¹å‘æš‚æ—¶ä¸æ¥å—ç”³è¯·ã€‚</p>
      <p class="nm">ä¸“æ ç»‘å®šçš„è¯é¢˜å³ä»£è¡¨ä¸“æ çš„å†™ä½œæ–¹å‘ï¼Œè¯·ä¸è¦ç»‘å®šè¿‡äºå®½æ³›çš„è¯é¢˜ã€‚</p>
      <ul>
        <li>æ¥å—ç”³è¯·çš„æ–¹å‘ï¼šåŒ…æ‹¬ä½†ä¸é™äºç»æµå­¦ã€é‡‘èã€äº’è”ç½‘ã€ç§‘æŠ€ã€ç§‘å­¦ã€å¿ƒç†å­¦ã€é¥®é£Ÿã€æ—…æ¸¸ã€å®¶å±…ã€æ±½è½¦ç­‰ä¸“ä¸šæ–¹å‘çš„å†…å®¹ï¼›</li>
        <li>ä¸æ¥å—ç”³è¯·çš„æ–¹å‘ï¼š åŒ…æ‹¬ä½†ä¸é™äºæ¶‰åŠæƒ…æ„Ÿã€ä¸¤æ€§ã€å¨±ä¹å…«å¦ã€éšç¬”ã€ä¸ªäººæˆé•¿è®°å½•æˆ–æˆé•¿å¿ƒå¾—ã€æ³›æ—¶æ”¿ç±»ï¼ˆåŒ…æ‹¬ã€Œå†›äº‹ã€ã€ã€Œæ”¿æ²»ã€ã€ã€Œçƒ­ç‚¹äº‹ä»¶ã€ç­‰è¯é¢˜ï¼‰ã€ä¸ä¸»æµç§‘å­¦è§‚ç‚¹ç›¸æ‚–ï¼ˆå¦‚å…»ç”Ÿã€é£æ°´ã€æ˜Ÿåº§ã€æ˜“ç»ã€å…«å¦ã€å‘½ç†ã€èµ·åç­‰å†…å®¹ï¼‰ã€å¯èƒ½å½±å“ä»–äººåˆ©ç›Šï¼ˆå¦‚å¯»åŒ»é—®è¯å»ºè®®ã€å¿ƒç†å’¨è¯¢å»ºè®®ã€P2P é‡‘èã€æŠ•èµ„è¡Œæƒ…åˆ†æåŠæŠ•èµ„æ“ä½œå»ºè®®ç­‰ï¼‰æˆ–ç»‘å®šè¿‡äºå®½æ³›çš„è¯é¢˜ï¼ˆå¦‚ã€Œç”Ÿæ´»ã€ã€ã€Œè¶£å‘³ã€ã€ã€Œè„‘æ´ã€ç­‰ï¼‰ã€‚</li>
      </ul>
      <h5>ç”³è¯·ä¸“æ çš„ç›¸å…³èƒŒæ™¯ï¼š</h5>
      <ul>
        <li>ä¸“æ ç”³è¯·äººéœ€å…·å¤‡<b>ä¸å†™ä½œæ–¹å‘ç›¸å…³</b>çš„ä¸“ä¸šèƒŒæ™¯å¹¶åœ¨ç”³è¯·ä¸­æ³¨æ˜ï¼›</li>
        <li>ç›¸å…³èƒŒæ™¯æè¿°å¯ä»¥æ˜¯ç›¸å…³æ•™è‚²ç»å†ï¼ˆå°±è¯»é™¢æ ¡ã€ä¸“ä¸šï¼‰ã€ä»ä¸šç»å†ï¼ˆå°±èŒå•ä½ã€å²—ä½ï¼‰ã€å–å¾—çš„æˆå°±åŠè£èª‰ï¼Œæˆ–è€…æœ‰ç›¸å…³çš„ä½œå“ç­‰ç­‰ï¼›</li>
        <li>è¯¦ç»†çš„èƒŒæ™¯èµ„æ–™è¯´æ˜å°†æœ‰åŠ©äºé€šè¿‡ä¸“æ ç”³è¯·çš„å®¡æ ¸ï¼›</li>
        <li>æ³¨ï¼šé™¤æ³•å¾‹æˆ–æœ‰æ³•å¾‹èµ‹äºˆæƒé™çš„æ”¿åºœéƒ¨é—¨è¦æ±‚æˆ–äº‹å…ˆå¾—åˆ°ç”¨æˆ·æ˜ç¡®æˆæƒç­‰åŸå› å¤–ï¼ŒçŸ¥ä¹ä¿è¯ä¸å¯¹å¤–å…¬å¼€æˆ–å‘ç¬¬ä¸‰æ–¹é€éœ²ç”¨æˆ·ç”³è¯·ä¸“æ æ—¶æä¾›çš„èƒŒæ™¯èµ„æ–™ã€‚
        </li>
      </ul>
      <p>å·¥ä½œäººå‘˜å°†åœ¨ä¸‰ä¸ªå·¥ä½œæ—¥å†…å¯¹ä¸“æ ç”³è¯·è¿›è¡Œåé¦ˆã€‚</p>
    </article>



    <div class="column-form" ng-form="requestForm">
      <div class="setting-sec item-form-label-top column-name">
        <div class="form-title"><label for="Name">ä¸“æ åå­—</label></div>
        <div class="form-content" ui-form-linkage="" ng-model="column.name">
          <input required="" ng-model="column.name" class="mui-input" name="name" id="Name" type="text" placeholder="å¡«å†™ä½ çš„ä¸“æ åå­—" word-max="20" max-width="330">
          <div class="tips">
            <div class="left">180 å¤©å†…åªèƒ½ä¿®æ”¹ä¸€æ¬¡</div>
            <div ng-if="requestForm.name.$valid" class="right">{{column.name | wordlen}}/20</div>
            <div class="error right" ng-if="requestForm.name.$error.required && !requestForm.name.$pristine">å¿…é¡»å¡«å†™ä¸“æ å</div>
            <div class="error right" ng-if="requestForm.name.$error.wordMax">{{column.name | wordlen}}/20</div>
          </div>
        </div>
      </div>

      <div class="setting-sec item-form-label-top column-topic">
        <ui-block-title class="form-title block-title-wider block-title-no-underline" data-help="ä¸“æ è¯é¢˜å³ä½ è®¡åˆ’çš„å†™ä½œæ–¹å‘ï¼Œç”³è¯·é€šè¿‡åï¼Œä¸“æ è¯é¢˜å°†ä¸å¯ä¿®æ”¹ã€‚ä¸åŒçš„å†™ä½œæ–¹å‘å¯ä»¥åˆ†åˆ«ç”³è¯·å¤šä¸ªä¸“æ ã€‚">
            <label for="Topics">ä¸“æ è¯é¢˜</label>
        </ui-block-title>
        <div class="form-content">
          <div class="tag-suggestion-container" ui-tag-input="" holdertext="æœç´¢è¯é¢˜" max-tags="3" suggest-options="suggestOptions" ng-model="column.topics">
            <div class="tips-always" ng-show="showTopicTips">
              <div class="left">ç”³è¯·é€šè¿‡å 30 å¤©å†…æ— æ³•æ›´æ”¹</div>
            </div>
          </div>
        </div>
      </div>

      <div class="setting-sec item-form-label-top column-background">
        <div class="form-title"><label for="Background">ä¸“ä¸šèƒŒæ™¯</label></div>
        <div class="form-content" ui-form-linkage="" disable-auto-expand="" ng-model="column.bg">
          <textarea required="" ng-model="column.bg" name="bg" ui-textarea-autogrow="" class="mui-input" placeholder="å¡«å†™ä½ çš„ç›¸å…³ä¸“ä¸šèƒŒæ™¯" word-max="250"></textarea>
          <div class="tips">
            <div ng-if="requestForm.bg.$valid" class="right">{{column.bg | wordlen}}/250</div>
            <div class="error right" ng-if="requestForm.bg.$error.wordMax">{{column.bg | wordlen}}/250</div>
          </div>
        </div>
      </div>

      <div class="submit-buttons">
        <a class="back" href="/">è¿”å›ä¸“æ Â·å‘ç°</a>
        <button class="btn btn-blue" ng-disabled="requestForm.$invalid || submiting" ng-click="requestForm.$valid && !submiting && submit()">æäº¤</button>
      </div>
    </div>
  </div>

  <div ng-if="me.isOrg && !me.isOrgWhiteList">
    <h2>å½“å‰æœºæ„å¸å·å¼€è®¾ä¸“æ ä¸ºæµ‹è¯•é˜¶æ®µï¼Œæš‚ä¸å¼€æ”¾ç”³è¯·</h2>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/column-settings-author-item.html">
<li class="ui-user-item" class="clearfix">
  <a href="{{user.profileUrl}}" target="_blank" class="user-avatar">
    <img class="avatar avatar-mid" ng-src="{{user.avatar | avatarUrl:48}}" alt="">
  </a>
  <div class="user-intro">
    <a href="{{user.profileUrl}}" target="_blank">
      <strong>{{user.name}}</strong>
    </a>
    <span ng-if="user.state == 'accepted'" class="bio">{{user.postsCount || 0}} ç¯‡æ–‡ç« </span>
    <span ng-if="user.state != 'accepted'" class="bio">å·²é‚€è¯·ï¼Œç­‰å¾…ç¡®è®¤</span>
  </div>
  <div class="functions">
    <a href="javascript:;" ng-click="showDMDialog(user)" class="" ng-if="user.slug != me.slug">ç§ä¿¡</a>
    <a class="cancel" confirm-message="ç¡®å®šå–æ¶ˆé‚€è¯·è¯¥ç”¨æˆ·ï¼Ÿ" confirm-title="ç®¡ç†æƒé™" ng-if="user.state=='pending' && !disableManage" href="javascript:;" ui-confirm="cancelUserRole(user, $index)">å–æ¶ˆé‚€è¯·<i class="icon-ic_invite_cancel"></i></a>
    <div class="permission" ng-if="user.state != 'pending' && user.role != 'creator' && !disableManage">
      <span ng-click="toggleShowPermission(user)">ä¿®æ”¹æƒé™<i class="icon-ic_unfold"></i></span>
      <ul class="ui-suggest" ng-show="user.showPermission">
        <li ng-if="user.role != 'editor'" confirm-message="ç¡®å®šå˜æ›´è¯¥ç”¨æˆ·ä¸ºç¼–è¾‘ï¼Ÿç¼–è¾‘å¯ç›´æ¥å‘å¸ƒæ–‡ç« ã€ç®¡ç†æŠ•ç¨¿è¯·æ±‚ã€è°ƒæ•´ä½œè€…æƒé™ã€‚" confirm-title="ç®¡ç†æƒé™" ui-confirm="changeUserRole(user, 'editor', $index)" class="row">ç¼–è¾‘</li>
        <li ng-if="user.role != 'author'" confirm-message="ç¡®å®šå˜æ›´è¯¥ç”¨æˆ·ä¸ºä½œè€…ï¼Ÿä½œè€…å¯ç›´æ¥å‘å¸ƒæ–‡ç« ã€‚" confirm-title="ç®¡ç†æƒé™" ui-confirm="changeUserRole(user, 'author', $index)" class="row">ä½œè€…</li>
        <li confirm-message="ç¡®å®šå–æ¶ˆè¯¥ç”¨æˆ·çš„æƒé™ï¼Ÿ" confirm-title="ç®¡ç†æƒé™" ui-confirm="cancelUserRole(user, $index)" class="row">å–æ¶ˆæƒé™</li>
      </ul>
    </div>
  </div>
</li>
</script>

<script type="text/ng-template" id="/views/column-settings-authors.html">
<div class="main receptacle column-settings">

  <div class="tabs">
    <div ng-include="'/views/settings/nav.html'"></div>
  </div>

  <div class="user-list-container">
    <ui-block-title data-help="ç¼–è¾‘å¯å‘å¸ƒæ–‡ç« ã€ç®¡ç†æŠ•ç¨¿è¯·æ±‚ã€è°ƒæ•´ä½œè€…æƒé™ã€‚">ç¼–è¾‘</ui-block-title>
    <div class="invite" ng-if="column.creator.slug == me.slug">
      <span class="trigger" ng-click="showSuggestPanel(1)">+ é‚€è¯·</span>
      <div class="invite-panel ui-suggest mui-container-search" ng-show="suggestPanelType == 1">
        <input ui-suggest="" type="text" placeholder="è¾“å…¥çŸ¥ä¹ç”¨æˆ·" suggest-options="suggestOptionsEditor" class="mui-input mui-nborder">
      </div>
    </div>
    <ul class="editor-list">
      <ng-include ng-repeat="user in editors" src="'/views/column-settings-author-item.html'" ng-init="disableManage = column.creator.slug != me.slug"></ng-include>
    </ul>

  </div>
  <div class="user-list-container">
    <ui-block-title data-help="ä½œè€…å¯å‘å¸ƒæ–‡ç« ã€‚">ä½œè€…</ui-block-title>
    <div class="invite">
      <span class="trigger" ng-click="showSuggestPanel(2)">+ é‚€è¯·</span>
      <div class="invite-panel ui-suggest mui-container-search" ng-show="suggestPanelType ==2">
        <input ui-suggest="" type="text" placeholder="è¾“å…¥çŸ¥ä¹ç”¨æˆ·" suggest-options="suggestOptionsAuthor" class="mui-input mui-nborder">
      </div>
    </div>
    <div class="empty" ng-if="fetched && !authors.length">å°šæ— ä½œè€…</div>
    <ul class="editor-list" ng-if="authors.length">
      <ng-include ng-repeat="user in authors" src="'/views/column-settings-author-item.html'"></ng-include>
    </ul>
  </div>
</div>

<div ui-direct-message="" show="showDM" user="dmUser"></div>
</script>

<script type="text/ng-template" id="/views/column-settings-contributes.html">
<div class="main receptacle column-settings">

  <div class="tabs">
    <div ng-include="'/views/settings/nav.html'"></div>
  </div>

  <div class="settings-posts-container settings-contributes-posts-container" ui-infinite="" data-source="contributesSource">
    <ul class="items draft-list" ng-if="contributesSource.count">
      <li class="item" ng-repeat="c in contributes track by $index">
        <div class="entry-title ellipsis"><a href="/p/{{c.targetPost.slug}}">{{c.targetPost.title || 'æ— æ ‡é¢˜'}}</a></div>
        <div class="entry-meta">
          <a class="author" href="{{c.targetPost.author.profileUrl}}">{{c.targetPost.author.name}}</a>
          <span class="bull">Â·</span>
          <time ui-time="" datetime="{{c.targetPost.publishedTime}}" class="updated"></time>
        </div>
        <div class="functions">
          <a ui-confirm="mute(c, $index)" confirm-message="ç¡®å®šå¿½ç•¥è¯¥æŠ•ç¨¿è¯·æ±‚ï¼Ÿ" confirm-title="æŠ•ç¨¿å¤„ç†" href="javascript:;" class="btn btn-grey-nborder">å¿½ç•¥</a>
          <a href="/p/{{c.targetPost.slug}}" class="btn btn-green-nborder">è¿›å…¥å®¡é˜…</a>
        </div>
      </li>
    </ul>

    <div class="list-empty" ng-if="!contributesSource.count && !contributesSource.pending">
      <i class="icon-show icon-ic_no_contribute"></i>
      <p>å°šæ— å¾…å¤„ç†çš„æŠ•ç¨¿</p>
    </div>
  </div></div>
</script>

<script type="text/ng-template" id="/views/column-settings-posts.html">
<div class="main receptacle column-settings">

  <div class="tabs">
    <div ng-include="'/views/settings/nav.html'"></div>
  </div>

  <div class="settings-posts-container" ui-pagination="" url="purl" data="posts" extra="extra" ng-if="purl" ng-show="loaded && extra.count" limit="20">
    <ui-block-title>{{extra.count}} ç¯‡æ–‡ç« </ui-block-title>
    <ul class="items draft-list">
      <li class="item fx-item-fade" ng-repeat="post in posts">
        <div class="entry-title"><a href="/p/{{post.slug}}">{{post.title || 'æ— æ ‡é¢˜'}}</a></div>
        <div class="entry-meta">
          <span class="author">{{post.author.name}}</span>
          <span class="bull">Â·</span>
          <time ui-time="" datetime="{{post.publishedTime}}" class="updated"></time>
          <span ng-if="post.pin">
            <span class="bull">Â·</span>
            <a href="javascript:;" ui-confirm="cancelPin(post, $index)" confirm-message="ç¡®å®šå–æ¶ˆç½®é¡¶è¯¥æ–‡ç« ï¼Ÿ" confirm-title="å–æ¶ˆç½®é¡¶">å–æ¶ˆç½®é¡¶</a>
          </span>
          <span ng-if="!post.pin">
            <span class="bull">Â·</span>
            <a href="javascript:;" ui-confirm="pin(post, $index)" confirm-message="{{pinpost ? 'å·²ç½®é¡¶è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œç»§ç»­æ“ä½œå°†æ›¿æ¢ä¸Šæ¬¡ç½®é¡¶çš„æ–‡ç« ã€‚' : 'ç¡®å®šç½®é¡¶è¯¥æ–‡ç« ï¼Ÿ'}}" confirm-title="æ–‡ç« ç½®é¡¶">ç½®é¡¶</a>
          </span>
          <span>
            <span class="bull">Â·</span>
            <a href="javascript:;" ui-confirm="removeInclude(post, $index)" confirm-message="ç¡®å®šå–æ¶ˆæ”¶å½•è¯¥æ–‡ç« ï¼Ÿå»ºè®®ç»§ç»­æ“ä½œå‰å…ˆè”ç³»æ–‡ç« ä½œè€…ã€‚" confirm-title="å–æ¶ˆæ”¶å½•">å–æ¶ˆæ”¶å½•</a>
          </span>
          <span ng-if="post.author.slug == me.slug">
            <span class="bull">Â·</span>
            <a href="/p/{{post.slug}}/edit">ç¼–è¾‘</a>
          </span>
          <span ng-if="post.author.slug == me.slug">
            <span class="bull">Â·</span>
            <a ui-confirm="delete(post, $index)" confirm-message="ç¡®å®šåˆ é™¤è¯¥æ–‡ç« ï¼Ÿ" confirm-title="åˆ é™¤æ–‡ç« " href="javascript:;">åˆ é™¤</a>
          </span>
        </div>
      </li>
    </ul>
  </div>

  <div ui-spinner="" ng-show="!loaded"></div>

  <div class="list-empty" ng-show="loaded && !extra.count && !censors.length">
    <i class="icon-show icon-ic_no_article"></i>
    <p>å°šæœªå‘å¸ƒè¿‡æ–‡ç« </p>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/column-settings.html">
<div class="main receptacle column-settings">

  <div class="tabs">
    <div ng-include="'/views/settings/nav.html'"></div>
  </div>

  <div class="setting-container">
    <div class="column-form" novalidate="">
      <div class="avatar-editing setting-sec">
        <div class="upload-controls fileinput-button" data-file-upload="fileuploadOptions" ng-class="{progressing: active()}">
          <div class="ui-progress centered fx-fade" ng-class="{'with-avatar': column.avatar.id}" ng-if="active()">
            <div class="bar" ng-style="{width: num + '%'}" data-file-upload-progress="progress()"></div>
          </div>

          <div class="with-avatar">
            <div class="avatar-preview">
              <img ng-src="{{column.avatar | avatarUrl:200}}" class="avatar">
            </div>
          </div>

          <input type="file" accept=".jpeg, .jpg, .png" name="picture">
        </div>
      </div>

      <div class="basic-info setting-sec" ng-form="columnNameForm">
        <div class="form-title with-margin">ä¸“æ å</div>
        <div class="form-content" ui-form-linkage="" init-value="{{column.name}}" ng-model="column.name">
          <div class="name">
            <input required="" ng-model="column.name" name="name" class="mui-input" placeholder="å¡«å†™ä¸“æ åå­—" max-width="368" word-max="20" ng-disabled="column.pendingName">
            <div class="tips-always" ng-show="column.pendingName">
              å·²å°†åç§°æ”¹ä¸ºã€Œ{{column.pendingName}}ã€ã€‚è¯¥æ”¹åŠ¨å°†åœ¨ 24 å°æ—¶å†…ç¡®è®¤ç”Ÿæ•ˆã€‚
            </div>
            <div class="tips" ng-show="!column.pendingName">
              <div class="left">180 å¤©å†…åªèƒ½ä¿®æ”¹ä¸€æ¬¡</div>
              <div ng-if="columnNameForm.name.$valid" class="right">{{column.name | wordlen}}/20</div>
              <div class="error right" ng-if="columnNameForm.name.$error.required">å¿…é¡»å¡«å†™ä¸“æ å</div>
              <div class="error right" ng-if="columnNameForm.name.$error.wordMax">{{column.name | wordlen}}/20</div>
            </div>
            <div class="save-btn" ng-show="!column.pendingName">
              <button class="btn btn-grey-nborder btn-72_32" ng-click="cancel()">å–æ¶ˆ</button>
              <button class="btn btn-blue btn-72_32" ng-disabled="columnNameForm.name.$invalid || columnNameForm.name.$pristine" ng-click="edit(columnNameForm)">ä¿å­˜</button>
            </div>
          </div>
        </div>
      </div>

      <div class="basic-info setting-sec" ng-switch="!!column.pendingTopics.length">
        <div class="form-title">ä¸“æ è¯é¢˜</div>
        <div class="form-content">
          <div class="topics"> 
            <div class="topics-input tags block-title-wider block-title-no-underline" ui-block-title="" data-help="ä¸“æ è¯é¢˜å³ä¸“æ çº¦å®šçš„å†™ä½œæ–¹å‘ï¼Œå†™ä½œæ–¹å‘ä¸æ”¯æŒæ›´æ”¹ã€‚ä½ å¯ä»¥ç”³è¯·å¦ä¸€ä¸ªä¸“æ æ¥å†™æ–°çš„å†™ä½œæ–¹å‘ã€‚">
              <a ng-if="column.pendingTopics.length" ng-repeat="topic in column.pendingTopics" class="tag-link" href="javascript:;">{{topic.name}}</a>
              <a ng-if="!column.pendingTopics.length" ng-repeat="topic in column.topics" class="tag-link" href="javascript:;">{{topic.name}}</a>
            </div>
          </div>
        </div>
      </div>

      <div class="basic-info setting-sec" ng-form="columnSDescForm">
        <div class="form-title with-margin">ä¸€å¥è¯ç®€ä»‹</div>
        <div class="form-content" ui-form-linkage="" init-value="{{column.intro}}" ng-model="column.intro">
          <div class="short-description">
            <input ng-model="column.intro" name="intro" class="mui-input" placeholder="å‘è¯»è€…ä¸€å¥è¯ä»‹ç»ä¸“æ ï¼ˆé€‰å¡«ï¼‰" max-width="368" word-max="25">
            <div class="tips">
              <div ng-if="columnSDescForm.intro.$valid" class="right">{{column.intro | wordlen}}/25</div>
              <div class="error right" ng-if="columnSDescForm.intro.$error.wordMax">{{column.intro | wordlen}}/25</div>
            </div>
          </div>
          <div class="save-btn">
            <button class="btn btn-grey-nborder btn-72_32" ng-click="cancel()">å–æ¶ˆ</button>
            <button class="btn btn-blue btn-72_32" ng-disabled="columnSDescForm.intro.$invalid || columnSDescForm.intro.$pristine" ng-click="edit(columnSDescForm)">ä¿å­˜</button>
          </div>
        </div>
      </div>

      <div class="desc setting-sec" ng-form="columnDescForm">
        <div class="form-title with-margin">ä¸“æ ä»‹ç»</div>
        <div class="form-content input-container" ui-form-linkage="" init-value="{{column.description}}" ng-model="column.description" disable-auto-expand="">
          <textarea ui-textarea-autogrow="" ng-model="column.description" class="mui-input" placeholder="ä¸ºã€Œå…³äºã€é¡µé¢æ·»åŠ ä¸€æ®µä¸“æ æè¿°ï¼ˆé€‰å¡«ï¼‰" name="description" max-width="368" word-max="500"></textarea>
          <div class="tips">
            <div ng-if="columnDescForm.description.$valid" class="right">{{column.description | wordlen}}/500</div>
            <div class="error right" ng-if="columnDescForm.description.$error.wordMax">{{column.description | wordlen}}/500</div>
          </div>
          <div class="save-btn">
            <button class="btn btn-grey-nborder btn-72_32" ng-click="cancel()">å–æ¶ˆ</button>
            <button class="btn btn-blue btn-72_32" ng-disabled="columnDescForm.description.$invalid || columnDescForm.description.$pristine" ng-click="edit(columnDescForm)">ä¿å­˜</button>
          </div>
        </div>
      </div>

      <div class="url setting-sec" ng-form="columnUrlForm">
        <div class="form-title with-margin">åŸŸå</div>
        <div class="form-content" ui-form-linkage="" init-value="{{column.slug}}" ng-model="column.slug">
          <span class="url-spine">zhuanlan.zhihu.com/</span>
          <span class="input-container">
            <input required="" ng-model="column.slug" name="slug" class="mui-input" placeholder="å¡«å†™è‡ªå®šä¹‰åŸŸå" ng-minlength="5" ng-pattern="/^[-a-zA-Z0-9]+$/" unique-column-slug="" max-width="200">
          </span>

          <div class="tips">
            <div class="left">åŸŸååªèƒ½ä¿®æ”¹ä¸€æ¬¡</div>
            <div class="error right" ng-if="columnUrlForm.slug.$error.required">å¿…é¡»å¡«å†™è‡ªå®šä¹‰åŸŸå</div>
            <div class="error right" ng-if="columnUrlForm.slug.$error.minlength">é•¿åº¦è‡³å°‘ä¸ºäº”ä¸ªå­—ç¬¦</div>
            <div class="error right" ng-if="columnUrlForm.slug.$error.pattern">åªèƒ½ä½¿ç”¨å­—æ¯ã€æ•°å­—å’ŒçŸ­æ¨ªçº¿</div>
            <div class="error right" ng-if="columnUrlForm.slug.$error.uniqueColumnSlug">æ­¤åŸŸåå·²ç»è¢«å ç”¨</div>
          </div>
          <div class="save-btn">
            <button class="btn btn-grey-nborder btn-72_32" ng-click="cancel()">å–æ¶ˆ</button>
            <button class="btn btn-blue btn-72_32" ng-disabled="columnUrlForm.slug.$invalid || columnUrlForm.slug.$pristine" ng-click="edit(columnUrlForm)">ä¿å­˜</button>
          </div>
        </div>
      </div>

      <hr>

      <div class="contribution setting-sec">
        <div class="form-title">æ¥å—æŠ•ç¨¿</div>
        <div class="form-content">
          <label class="mintro" ng-class="{grey: !column.acceptSubmission}">
            <input ng-model="column.acceptSubmission" type="checkbox" class="submission mui-checkbox-simple">
            å¼€å¯åå¯ä»¥è®©éä¸“æ ä½œè€…æŠ•ç¨¿åˆ°ä¸“æ 
          </label>
        </div>
      </div>

      <hr>

      <div class="remove-column setting-sec">
        <div class="form-content">
          <a href="javascript:;" ui-confirm="remove(column)" confirm-message="ç¡®å®šåˆ é™¤è¯¥ä¸“æ ï¼Ÿåˆ é™¤ä¸“æ ä¸ä¼šåˆ é™¤æ–‡ç« ï¼Œæ–‡ç« ä¼šå±•ç¤ºåœ¨ä½œè€…çš„ä¸ªäººä¸»é¡µã€Œæ–‡ç« ã€æ ç›®ä¸‹ã€‚" class="remove-button">åˆ é™¤ä¸“æ </a>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-dialog edit-topic-dialog" ui-dialog="" tabindex="0" open="showTopicModifyDialog">
    <div class="modal-dialog-title">
      <span class="modal-dialog-title-text">ç”³è¯·ä¿®æ”¹</span>
      <span class="modal-dialog-title-close"></span>
    </div>
    <div class="modal-dialog-content">
      <div class="desciption">ä¸“æ è¯é¢˜å³ä¸“æ çš„åˆ›ä½œæ–¹å‘ï¼Œè¯·é€‰æ‹©ç»‘å®šåˆé€‚çš„è¯é¢˜ã€‚ä¿®æ”¹å°†åœ¨ä¸€ä¸ªå·¥ä½œæ—¥å†…ç”Ÿæ•ˆã€‚</div>
      <div class="edit-topics-container">
        <div class="sec-title">ä¸“æ è¯é¢˜</div>
        <div class="tag-suggestion-container" ui-tag-input="" holdertext="æœç´¢è¯é¢˜..." max-tags="3" after-select="afterSelect" suggest-options="suggestOptions" ng-model="suggestTopics">
        </div>
        <span class="tip" ng-show="suggestTopics.length >= 3">åªèƒ½è¾“å…¥3ä¸ªè¯é¢˜</span>
      </div>
      <div class="sec-title">ä¿®æ”¹è¯´æ˜</div>
      <textarea ui-textarea-autogrow="" class="mui-input" placeholder="å¡«å†™ç›¸å…³ä¿®æ”¹è¯´æ˜ï¼ˆé€‰å¡«ï¼‰"></textarea>
    </div>
    <div class="modal-dialog-buttons">
      <button class="btn btn-grey-nborder" ng-click="showTopicModifyDialog = false">å–æ¶ˆ</button><button class="btn btn-blue" ng-disabled="!suggestTopics.length" ng-click="suggestTopics.length && editTopics()">ç¡®å®š</button>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/column-transfer.html">
<div ng-controller="ColumnTransferCtrl" ng-class="{'show-next': showCancelColumn || showCompleteForm}" class="transfer-dialog-inner">
  <div class="intro">
    <div class="text">
      <h6>æ¬¢è¿æ¥åˆ°æ–°ç‰ˆä¸“æ </h6>
    </div>
  </div>

  <div class="column-form complete-form fx-item-enter" ng-form="requestForm">
    <p class="description">è¯·ç¡®è®¤æˆ–è¡¥å…¨ <b>{{column.name}}</b> çš„ä¸“æ ä¿¡æ¯ï¼Œå¼€å§‹ä½¿ç”¨æ–°ç‰ˆä¸“æ </p>

    <div class="setting-sec item-form-label-top column-topic">
      <ui-block-title class="form-title block-title-wider block-title-no-underline" data-help="ä¸“æ è¯é¢˜å³ä½ è®¡åˆ’çš„å†™ä½œæ–¹å‘ï¼Œç”³è¯·é€šè¿‡åï¼Œä¸“æ è¯é¢˜å°†ä¸å¯ä¿®æ”¹ã€‚ä¸åŒçš„å†™ä½œæ–¹å‘å¯ä»¥åˆ†åˆ«ç”³è¯·å¤šä¸ªä¸“æ ã€‚">ä¸“æ è¯é¢˜</ui-block-title>
      <div class="tag-suggestion-container" ui-tag-input="" holdertext="æœç´¢è¯é¢˜" max-tags="3" suggest-options="suggestOptions" ng-model="column.topics">
      </div>
      <div class="tips-always" ng-show="showTopicTips">
        <div class="left">ä¿®æ”¹é€šè¿‡å 30 å¤©å†…æ— æ³•æ›´æ”¹</div>
      </div>
    </div>

    <div class="submit-buttons">
      <a class="rule" href="/p/20635074" target="_blank"><i class="icon-ic_help"></i>äº†è§£æ–°ç‰ˆä¸“æ </a>
      <button class="btn btn-blue" ng-disabled="requestForm.$invalid || submiting" ng-click="requestForm.$valid && !submiting && submit()">å¼€å¯æ–°ä¸“æ </button>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/columns-selector.html">
<div class="modal-dialog columns-selector" ui-dialog="" tabindex="-1" open="show">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">{{title}}</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    <div class="column-list" ng-show="columns.length">
        <a href="/{{column.slug}}" ng-click="select(column, $event)" class="column-item clearfix" ng-repeat="column in columns">
          <img class="avatar" ng-src="{{column.avatar | avatarUrl:50}}">
          <div class="column-content">
            <div class="column-title ellipsis">{{column.name}}</div>
            <div class="article-count">{{column.postsCount || 0}} ç¯‡æ–‡ç« </div>
          </div>
          <i class="icon icon-go"></i>
        </a>
        <a href="javascript:;" ng-click="create()" class="column-item create-column" ng-if="mode != 'selectonly'">
          <i class="icon icon-create-column"></i>
          <div class="text">åˆ›å»ºä¸“æ </div>
          <i class="icon icon-go"></i>
        </a>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/comment-item.html">
<li class="comment-item" id="comment-{{comment.id}}" ui-events="{focusin: 'focusin = true', focusout: 'focusin = false'}" ng-class="{focusin: focusin, 'comment-item-deleted': comment.deleted}" ng-switch="!!comment.deleted">
  <div ng-switch-when="false" class="comment-item-inner-normal">
    <a ui-hovercard="" target="_blank" class="avatar-link" title="{{comment.author.name}}" href="{{comment.author.profileUrl}}" tabindex="-1">
      <img ng-src="{{comment.author.avatar | avatarUrl:50}}" class="avatar avatar-small">
    </a>

    <div class="comment-body" ng-init="reply = {content: '', hidden: true}">
      <a href="javascript:;" class="btn-conversation" ng-click="viewConversation(comment)" ng-if="comment.inReplyToCommentId"><i class="icon-ic_conversations"></i>æŸ¥çœ‹å¯¹è¯</a>

      <div class="comment-hd" ng-class="{'comment-hd-conversation': comment.inReplyToCommentId}">
        <a href="{{comment.author.profileUrl}}" target="_blank">{{comment.author.name}}</a>
        <!-- <span ng-if="comment.author.isOrg" class="OrgBadge z-ico-badge16" ui-hover-title="å·²è®¤è¯çš„æœºæ„"></span> -->
        <span ng-if="isPostOwner(comment.author)">ï¼ˆä½œè€…ï¼‰</span>
        <span class="in-reply-to" ng-show="comment.inReplyToUser">
          å›å¤ <a href="{{comment.inReplyToUser.profileUrl}}">{{comment.inReplyToUser.name}}</a>
          <!-- <span ng-if="comment.inReplyToUser.isOrg" class="OrgBadge z-ico-badge16" ui-hover-title="å·²è®¤è¯çš„æœºæ„"></span> -->
          <span ng-if="isPostOwner(comment.inReplyToUser)">ï¼ˆä½œè€…ï¼‰</span>
        </span>
        <div ng-if="comment.reviewing" ui-menu-button="" class="CommentReviewingIcon">
          <span class="menu-button"><i class="icon-ic_visibility_off"></i></span>
          <menu class="menu">
            <div class="item">å·²å¼€å¯é¢„å®¡è¯„è®ºï¼Œè¯„è®ºç”±æœºæ„ç­›é€‰åå…¬å¼€</div>
          </menu>
        </div>
      </div>

      <div class="comment-content" ng-bind-html="comment.content"></div>

      <div class="comment-ft clearfix">
        <time ng-if="timeStyle != 'shor'" ui-time="" datetime="{{comment.createdTime}}" class="date" time-style="timeStyle"></time>

        <span class="like-num {{comment.likesCount && 'liked' || 'nil'}}" title="{{comment.likesCount}} äººè§‰å¾—è¿™ä¸ªå¾ˆèµ"><span>{{comment.likesCount}}</span> <span>èµ</span></span>

        <a ng-if="state === 'reviewing' && comment.reviewing" ng-click="approve(comment)" href="javascript:;" class="approve op-link op-link-visible"><i class="icon-ic_pass"></i>å…¬å¼€</a>

        <a ng-if="canRemove(comment) && state === 'normal'" ng-click="remove(comment)" href="javascript:;" class="remove op-link"><i class="icon-ic_phot_delete"></i>åˆ é™¤</a>

        <a ng-if="canReply(comment) && state === 'normal'" ng-click="toggleReplyForm(reply)" href="javascript:;" class="reply op-link"><i class="icon-ic_column_reply"></i>å›å¤</a>

        <a ng-if="!ownComment(comment) && state === 'normal' && !comment.reviewing" ng-click="like(comment)" href="javascript:;" class="like op-link {{comment.liked && 'liked' || ''}}"><i class="icon-ic_comment_like"></i>{{comment.liked && 'å–æ¶ˆèµ' || 'èµ'}}</a>

        <a ng-if="ownPost() && state === 'normal' && !comment.reviewing" ng-click="recommend(comment)" href="javascript:;" class="recommend op-link {{comment.featured && 'recommended'}}"><i class="icon-ic_highlighted"></i>{{comment.featured ? 'å–æ¶ˆæ¨è' : 'æ¨è'}}</a>

        <a ng-if="!ownComment(comment) && state === 'normal' && !comment.reviewing" ng-click="report(comment)" href="javascript:;" class="report op-link"><i class="icon-ic_column_report"></i>ä¸¾æŠ¥</a>
      </div>

      <form name="replyForm" class="comment-form comment-reply-form expanded hidden" ng-if="canReply(comment)" ng-class="{hidden: reply.hidden}">
        <img class="avatar avatar-small" ng-src="{{me.avatar | avatarUrl:50}}">
        <div class="editable" ui-focus-me="!reply.hidden" ui-ctrl-enter="replyComment(comment, reply, replyForm)" ui-scraper="" scraper-options="scraperOptions" ui-mention="" ui-clean-paste="" contenteditable="true" content-required="" ng-model="reply.content" holdertext="{{placeholder}}"></div>
        <div class="command clearfix" ng-if="me.authed()">
          <button ng-disabled="reply.pending || !reply.content.replace('<br>', '').trim()" ng-click="replyComment(comment, reply, replyForm)" class="save btn btn-blue">è¯„è®º</button>
          <button ng-click="reply.hidden = true" class="cancel btn btn-grey-nborder">å–æ¶ˆ</button>
        </div>
      </form>

    </div>
  </div>
  <div ng-switch-when="true" class="comment-item-inner-deleted">
    è¿™é‡Œæœ‰ä¸€æ¡å·²åˆ é™¤çš„è¯„è®º
  </div>
</li>
</script>

<script type="text/ng-template" id="/views/conversation.html">
<div class="modal-dialog conversation-dialog" tabindex="-1" ng-class="{'no-comment-form': !commentsStatus.canComment, loading: pending}">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">æŸ¥çœ‹å¯¹è¯</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content" ng-class="{loading: pending}">
    <div id="conversation-comments" class="entry-comments" ui-post-comments="" comments-state="state" comments-href="url" comments-expanded="true" comments-post-owner="postOwner" comments-status="commentsStatus" comments-placeholder="{{placeholder}}" disable-scraper="true" comments-add-href="replyCommentHref" time-style="short"></div>

    <div ui-spinner="" ng-if="pending"></div>
  </div>

</div>
</script>

<script type="text/ng-template" id="/views/direct-message.html">
<div class="modal-dialog direct-message-dialog" ui-dialog="" tabindex="0" open="show">
  <div class="modal-dialog-title">
    <span class="modal-dialog-title-text">å‘é€ç§ä¿¡</span>
    <span class="modal-dialog-title-close"></span>
  </div>

  <div class="modal-dialog-content">
    <div class="to">å‘é€ç»™ï¼š<span class="name">{{user.name}}</span></div>
    <div class="dm-content">
      <div class="editable mui-input" ui-scraper="" scraper-options="scraperOptions" ui-clean-paste="" ui-events="{focus:'expandForm(true)'}" ui-ctrl-enter="addComment()" contenteditable="true" content-required="" ng-model="dmMessage" holdertext="è¾“å…¥å†…å®¹..." name="content"></div>
    </div>
  </div>

  <div class="modal-dialog-buttons">
    <span ng-click="close()" class="btn btn-grey-nborder">å–æ¶ˆ</span><span ng-click="dmMessage && send()" class="btn btn-blue" ng-disabled="!dmMessage">å‘é€</span>
  </div>

</div>
</script>

<script type="text/ng-template" id="/views/draft-list.html">
<div class="main receptacle">
  <div class="draft-items-container settings-posts-container" ui-infinite="" data-source="draftsSource">
    <h2 ng-if="drafts.length && censors.length"><b>å…¶ä»–è‰ç¨¿</b><sub>{{draftsSource.count}}</sub></h2>
    <div class="list-empty" ng-if="!animating && !draftsSource.pending && !drafts.length && !censors.length">
      <i class="icon-show icon-ic_no_drafts"></i>
      <p>{{draftsSource.error && 'æœåŠ¡å™¨æäº†ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç¨å€™å†è¯•ã€‚' || 'å°šæ— ä»»ä½•è‰ç¨¿'}}</p>
    </div>
    <ul class="items draft-list" ng-show="drafts.length">
      <li class="item fx-draft-item-fade" ng-repeat="draft in drafts">
        <div class="entry-title"><a href="/p/{{draft.id}}/edit">{{draft.title || 'æ— æ ‡é¢˜'}}</a></div>
        <div class="entry-meta">
          <time ui-time="" datetime="{{draft.updatedTime}}" class="updated"></time>
          <span class="bull">Â·</span>
          <span class="words">å…± {{draft.content | wordlen}} å­—</span>
          <span class="bull">Â·</span>
          <a href="javascript:;" ui-confirm="removeDraft(draft, $index)" confirm-message="ç¡®å®šåˆ é™¤è¯¥è‰ç¨¿ï¼Ÿ" confirm-title="åˆ é™¤è‰ç¨¿">åˆ é™¤</a>
        </div>
      </li>
    </ul>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/home.html">
<div ng-show="recommendColumnsInited && recommendPostsInited">
  <div class="top">
    <h1>çŸ¥ä¹<span class="bull">Â·</span>ä¸“æ </h1>
    <h2>éšå¿ƒå†™ä½œï¼Œè‡ªç”±è¡¨è¾¾</h2>
    <a ng-click="handleLoginBeforeJump($event)" href="/write" class="btn btn-black write-btn">å¼€å§‹å†™æ–‡ç« </a>
  </div>

  <section class="l-receptacle">
    <h3><span>ä¸“æ  Â· å‘ç°</span></h3>
    <ul class="column-card-list clearfix">
      <li class="column-card-item" ng-repeat="column in recommendColumns track by column.slug">
        <p class="avatar">
          <a href="{{column.url}}" ui-open-blank="" ng-click="handleRecommendColumnClick()"><img alt="" ng-src="{{column.avatar | avatarUrl:76}}"></a>
        </p>
        <p class="title"><a ui-open-blank="" ng-click="handleRecommendColumnClick()" href="{{column.url}}">{{column.name}}</a></p>
        <p class="description"><a ui-open-blank="" ng-click="handleRecommendColumnClick()" href="{{column.url}}">{{column.displayDescription}}</a></p>
        <p class="meta">
          {{column.followersCount}} äººå…³æ³¨
          <span class="split">|</span>
          {{column.postsCount}} ç¯‡æ–‡ç« 
        </p>
        <a ui-open-blank="" ng-click="handleRecommendColumnClick()" class="btn btn-green btn-90_32" href="{{column.url}}">è¿›å…¥ä¸“æ </a>
      </li>
    </ul>
    <p class="random">
      <a class="btn btn-black btn-90_32" href="javascript:;" ng-click="nextRecommendColumn($event)"><i class="icon-ic_refresh"></i>æ¢ä¸€æ¢</a>
    </p>
  </section>

  <section class="l-receptacle">
    <h3><span>æ–‡ç«  Â· å‘ç°</span></h3>
    <ul class="post-card-list clearfix">
      <li class="post-card-item" ng-repeat="post in recommendPosts track by post.slug">
        <a ui-open-blank="" href="{{post.url}}">
          <p class="post-img" ng-if="post.titleImage" ng-style="{'background-image': 'url('+ (post.titleImage | imgSize: 'b') +')'}"></p>
          <p class="post-no-img" ng-if="!post.titleImage"></p>
          <p class="title">{{post.displayTitle}}</p>
          <p ng-show="!post.titleImage && winType != 'small'" class="content">{{post.displaySummary}} <span class="read-all">æŸ¥çœ‹å…¨æ–‡<i class="icon-ic_unfold"></i></span></p>
        </a>
        <p class="meta">
          <span class="author ellipsis"><a target="_blank" href="http://{{post.author.slug | profileUrl}}">{{post.displayAuthorName}}</a></span>
          <span ng-if="post.column" class="source ellipsis">å‘è¡¨äº <a ui-open-blank="" href="/{{post.column.slug}}">{{post.displayColumnName}}</a></span>
        </p>
      </li>
    </ul>
    <p class="random">
      <a class="btn btn-black btn-90_32" href="javascript:;" ng-click="nextRecommendPost($event)"><i class="icon-ic_refresh"></i>æ¢ä¸€æ¢</a>
    </p>
  </section>

  <div class="bottom">
    <h3>åœ¨çŸ¥ä¹åˆ›ä½œ</h3>
    <a ng-click="handleLoginBeforeJump($event, true)" class="btn btn-black" href="/request">ç”³è¯·ä¸“æ </a>

    <p class="copyright">
      <a ui-open-blank="" href="/p/20635074" class="about">å…³äºä¸“æ </a>
      <span>&copy;2016 çŸ¥ä¹</span>
    </p>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/ie.html">
<div class="server-error-container">
  <i class="icon icon-error-500"></i>
  æŠ±æ­‰ï¼Œæš‚ä¸æ”¯æŒä½ç‰ˆæœ¬ Internet Explorer ç½‘é¡µæµè§ˆå™¨ï¼Œè¯·å‡çº§ï¼š
  <ul style="text-align:center;list-style:none">
    <li>
      <a target="_blank" href="https://www.google.com/chrome">Google Chrome</a>
    </li>
    <li>
      <a target="_blank" href="http://se.360.cn">360å®‰å…¨æµè§ˆå™¨</a>
    </li>
    <li>
      <a target="_blank" href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie">Internet Explorer 10</a>
    </li>
  </ul>
</div>
</script>

<script type="text/ng-template" id="/views/main.html">
<div class="main receptacle home-view">

  <div class="rec-section posts">
    <h1 class="rec-title">æ¨èæ–‡ç« </h1>
    <p class="items-empty" ng-show="!loading && !posts.length">
      è¿˜æ²¡æœ‰ä»»ä½•æ–‡ç« 
    </p>
    <ul class="items" ng-show="posts.length">
      <li class="item" ng-repeat="post in posts">
        <article class="hentry">
          <header>
            <a ng-click="toggleLike(post)" href="javascript:;" class="vote-num">{{post.likesCount}}</a>
            <h2 class="entry-title"><a href="/{{post.column.slug}}/{{post.slug}}">{{post.title}}</a></h2>
            <div class="entry-meta">
              <a href="{{post.author.profileUrl}}" class="author name">{{post.author.name}}</a>
              <span class="bull">Â·</span>
              <time ui-time="" datetime="{{post.publishedTime}}" class="published"></time>
              <a href="/{{post.column.slug}}/{{post.slug}}#comments" class="comment"><i class="icon icon-comment"></i>{{post.commentsCount && (post.commentsCount + ' æ¡è¯„è®º') || 'è¿˜æ²¡æœ‰è¯„è®º'}}</a>
            </div>
          </header>

          <section class="entry-summary">{{post.content | truncateHtml}}</section>
        </article>
      </li>
    </ul>
  </div>

  <aside class="sidebar">
    <div class="rec-section columns">
      <h2 class="rec-title">æ¨èä¸“æ </h2>
      <div class="block author-block" ng-repeat="column in columns">
        <a href="{{column.slug}}" class="link column">
          <img class="avatar" ng-src="{{column.image}}">
          <span class="name">{{column.name}}</span>
        </a>
        <div class="desc">{{column.description}}</div>
      </div>
    </div>
  </aside>

</div>
</script>

<script type="text/ng-template" id="/views/maintenance.html">
<div class="server-error-container">
  <i class="icon icon-error-404"></i>
  æŠ±æ­‰ï¼Œæ­£åœ¨æŠ¢ä¿®ç¨‹åºä¸­
</div>
</script>

<script type="text/ng-template" id="/views/navbar.html">
<header id="header" class="navbar" ng-controller="NavbarCtrl" ng-cloak="" ui-scroll-back-fixed="" fixed="scrollBackFixedNavbar">
  <div class="navbar-logo-container">
    <a href="//www.zhihu.com" target="_blank" class="logo icon-ic_zhihu_logo" aria-label="çŸ¥ä¹é¦–é¡µ"></a>
  </div>

  <div class="navbar-title-container clearfix" ng-class="{show: showTitle}" ng-click="handleTitleClick($event)">
    <div class="img" ng-if="title.img">
      <img ng-if="!title.imghref" class="avatar avatar-small" alt="" ng-src="{{title.img}}">
      <a href="{{title.imghref}}" ng-if="title.imghref" ng-attr-aria-label="{{title.ariaLabel}}">
        <img class="avatar avatar-small" alt="" ng-src="{{title.img}}">
      </a>
    </div>
    <div class="titles" ng-class="{oneline: !title.subtitle || !title.main}" ng-hide="!title.subtitle && !title.main">
      <div class="subtitle" ng-if="title.subtitle" ng-bind-html="title.subtitle"></div>
      <div class="main-title" ng-if="title.main" ng-bind-html="title.main"></div>
    </div>
    <div class="functions" ng-if="title.buttons">
    </div>
    <div class="status" ng-if="extraStatus" ng-class="extraStatus.type">{{extraStatus.text}}</div>
    <div class="status" ng-if="extraStatus"> â€¢ </div>
    <div class="status" ng-if="status" ng-class="status.type">{{status.text}}</div>
  </div>

  <ng-include src="'/views/navbar/login.html'" ng-if="!me.authed() && me.$resolved"></ng-include>

  <ng-include src="'/views/navbar/menu.html'" ng-if="me.authed()"></ng-include>

  <ng-include src="'/views/navbar/write.html'" ng-if="!inWrite && me.$resolved"></ng-include>


  <div class="navbar-content">
  </div>

</header>
</script>

<script type="text/ng-template" id="/views/num-code.html">
<div class="num-code">
  <input class="num-code-item-{{$index}}" type="password" ng-repeat="input in inputs" value="{{inputValues[$index]}}" ng-focus="handleFocus($event, $index)" ng-keydown="handleInput($event, $index)" readonly="readonly">
</div>
</script>

<script type="text/ng-template" id="/views/post-comments-settings.html">
<span class="comment-setting-button menu-button-no-arrow" ui-menu-button="" ng-if="isPostOwner(me)">
  <a href="javascript:;" class="menu-button comment-setting-button"><i class="icon-ic_column_more" ng-if="ownPost()"></i><span class="hide-text">è¯„è®ºè®¾ç½®</span></a>
  <menu class="menu">
    <label class="menu-item" ng-repeat="item in commentSettingMenuItems">
      <input name="comment-settting" type="radio" value="{{item.value}}" class="mui-radio" ng-model="status.permission" ng-click="onClickCommentSettingItem($event)">
      {{item.text}}
    </label>
  </menu>
</span>
</script>

<script type="text/ng-template" id="/views/post-comments.html">
<div class="comment-box" ng-show="expanded" ng-class="{ empty: !pending && !comments.length }" ng-switch="pending">
  <div class="box-header" ng-switch="!!(isPostOwner(me) && me.isOrg)">
    <div ng-switch-when="false">
      <ui-block-title>
        {{status.count ? (status.count + ' æ¡è¯„è®º') : 'è¿˜æ²¡æœ‰è¯„è®º'}}

        <span ng-include="'/views/post-comments-settings.html'"></span>
      </ui-block-title>
    </div>

    <div class="tabs-nav clearfix" ng-switch-when="true">
      <a href="#" class="tabs-anchor" ng-class="{ 'active': state === 'normal' }" ng-click="toggleCommentsType($event, 'normal')">
        {{status.count ? (status.count + ' æ¡è¯„è®º') : 'è¿˜æ²¡æœ‰è¯„è®º'}}
      </a>
      <a href="#" class="tabs-anchor" ng-class="{ 'active': state === 'reviewing' }" ng-click="toggleCommentsType($event, 'reviewing')" ng-if="status.permission === 'review' && status.reviewingCount != null">
        {{status.reviewingCount}} æ¡å¾…å®¡æ ¸è¯„è®º
      </a>

      <span ng-include="'/views/post-comments-settings.html'"></span>
    </div>
  </div>

  <div ng-switch-when="false">
    <form class="comment-form comment-box-ft" ng-class="{ 'expanded': formExpanded }" name="commentForm" ng-if="(status.canComment || status.forceShowCommentForm) && state === 'normal'">
      <img class="avatar avatar-small" ng-src="{{me.avatar | avatarUrl:50}}" ng-if="me.authed()">
      <div class="editable" ui-scraper="" scraper-options="scraperOptions" ui-mention="" ui-clean-paste="" ui-events="{focus:'handleInputFocus($event)'}" ui-ctrl-enter="addComment()" contenteditable="true" content-required="" ng-model="editingComment.content" holdertext="{{placeholder}}" name="content" toggle-delay="250"></div>
      <div class="command clearfix" ng-if="me.authed()">
        <button ng-disabled="savePending || !editingComment.content.replace('<br>', '').trim()" ng-click="addComment()" class="save btn btn-blue">è¯„è®º</button>
        <button ng-click="expandForm(false, $event)" class="cancel btn btn-grey-nborder">å–æ¶ˆ</button>
      </div>
    </form>

    <div class="message" ng-if="(me.authed() && !isPostOwner(me) && !status.canComment) || status.permission == 'none'" ng-switch="status.permission">
      <span ng-switch-when="denied">å¯¹æ–¹å·²å°†ä½ å±è”½ï¼Œä½ æ— æ³•åœ¨è¿™é‡Œè¯„è®º</span>
      <span ng-switch-when="friends">åªæœ‰ä½œè€…å…³æ³¨çš„äººæ‰èƒ½åœ¨è¿™é‡Œè¯„è®º</span>
      <span ng-switch-when="none">è¯„è®ºå·²å…³é—­</span>
    </div>

    <div class="comment-list-container" ng-if="loadStyle == 'infinite'">
      <ul class="comment-list">
        <ui-comment-item ng-repeat="comment in comments | orderBy:'id' track by comment.id"></ui-comment-item>
      </ul>

      <div class="load-more" ng-if="!source.completed" ng-switch="" on="source.pending">
        <a ng-switch-when="false" href="javascript:;" ng-click="loadMore()">æ˜¾ç¤ºæ›´å¤š</a>
        <span ng-switch-when="true"><div ui-spinner="" class="small"></div></span>
      </div>

      <div class="comment-empty" ng-if="!source.pending && !comments.length">
        <i class="icon-ic_comment"></i>
        <p class="description">æš‚æ— è‰ç¨¿è¯„è®º</p>
      </div>
    </div>

    <div class="comment-list-container" ng-if="loadStyle == 'pagination'" url="commentHrefMap[state]" data="oriComments" extra="commentCountMap[state]" index="locateItemIndex" ui-pagination="">
      <ul class="comment-list">
        <ui-comment-item ng-repeat="comment in featureComments track by comment.id"></ui-comment-item>
        <li class="comment-feature-description" ng-if="featureComments.length">
          <ui-block-title help="ç²¾é€‰è¯„è®ºåŒ…å«æ–‡ç« ä½œè€…æ¨èçš„è¯„è®ºå’Œéƒ¨åˆ†é«˜èµè¯„è®º">ä»¥ä¸Šä¸ºç²¾é€‰è¯„è®º</ui-block-title>
        </li>
        <ui-comment-item ng-repeat="comment in comments track by comment.id"></ui-comment-item>
      </ul>
    </div>

  </div>

</div>
</script>

<script type="text/ng-template" id="/views/post-includes.html">
<ui-block-title>æ–‡ç« è¢«ä»¥ä¸‹ä¸“æ æ”¶å½•</ui-block-title>
<ul class="included-items" ng-click="handleContributeClick($event)">
  <ui-column-item column="contribute.column" ng-repeat="contribute in contributes" contribute-info="contribute" index="$index">
</ul>
</script>

<script type="text/ng-template" id="/views/post-item.html">
<li class="item" ng-class="itemClass">
  <article class="hentry">
    <a href="{{post.url}}" class="entry-link">
      <h1 class="entry-title">{{post.title}}</h1>

      <div class="title-img-container" ng-if="titleImageShow">
        <div class="title-img-preview" ng-style="{'background-image': 'url(' + post.titleImage + ')'}">
        </div>
      </div>

      <div class="title-img-container" ng-if="!titleImageShow"></div>

      <section class="entry-summary">
        <p ui-summary="post.content" max="truncateMax">
          <span class="read-all">æŸ¥çœ‹å…¨æ–‡<i class="icon-ic_unfold"></i></span>
        </p>
      </section>
    </a>

    <footer>
      <div class="entry-meta">
        <a target="_blank" href="{{post.author.profileUrl}}" class="author name">{{post.author.name}}</a>
        <span class="bull" ng-click="test()">Â·</span>
        <time ui-time="" datetime="{{post.publishedTime}}" class="published"></time>
        <span ng-if="showRecommend" class="bull">Â·</span>
        <span class="recommend-post" ng-if="showRecommend">ç¼–è¾‘ç²¾é€‰</span>
      </div>

      <div class="entry-func" ng-if="!showSource">
        <a href="/p/{{post.slug}}" class="vote-num" ng-show="post.likesCount">{{post.likesCount}}<span> èµ</span></a>
        <span ng-show="post.likesCount && post.commentsCount" class="bull">Â·</span>
        <a href="/p/{{post.slug}}#comments" class="comment" ng-show="post.commentsCount">{{post.commentsCount}}<span> æ¡è¯„è®º</span></a>
      </div>

      <div class="entry-source" ng-if="showSource && post.column">
        <span class="source-prefix">å‘è¡¨äº</span>
        <a href="/{{post.column.slug}}" ng-if="post.column">{{post.column.name}}</a>
      </div>
    </footer>


  </article>
</li>
</script>

<script type="text/ng-template" id="/views/post-list.html">
<div class="main receptacle">

  <div class="column-about" ng-switch="columnType == 'user'">
    <div class="avatar-link">
      <img class="avatar-big" ng-src="{{column.avatar | avatarUrl:100}}">
    </div>
    <div href="{{column.url}}" class="title">{{column.name}}</div>
    <div class="description" ng-bind-html="column.intro | linky"></div>
    <div class="functions" ng-switch-when="false" ng-hide="column.activateState != 'activated'">
      <button ui-follow-button="" ng-model="column.following" ng-click="toggleFollow()" class="btn btn-90_36" ng-if="!column.canManage"></button>
      <a class="btn btn-black btn-90_36" ng-if="column.canManage" href="/{{column.slug}}/settings/posts">ç®¡ç†ä¸“æ </a>
      <div class="more-funcs menu-button-no-arrow" ui-menu-button="">
        <span class="menu-button"><i class="icon-ic_unfold"></i></span>
        <menu class="menu navbar-menu">
          <a href="/{{column.slug}}/about" class="menu-item">å…³äº</a>
          <a ng-if="column.acceptSubmission" href="javascript:;" class="menu-item" ng-click="handleContribute()">æŠ•ç¨¿åˆ°è¯¥ä¸“æ </a>
          <a ng-if="!ownColumn() && false" href="javascript:;" class="menu-item" ng-click="handleReport()">ä¸¾æŠ¥</a>
        </menu>
      </div>
    </div>
    <div class="followers" ng-switch-when="false" ng-hide="column.activateState != 'activated'">
      <a ui-open-blank="" ng-if="column.followersCount" href="/{{column.slug}}/followers">{{column.followersCount}} äººå…³æ³¨</a>
      <span ng-if="!column.followersCount">è¿˜æ²¡æœ‰äººå…³æ³¨</span>
    </div>

    <div class="warning" ng-if="columnType != 'user' && column.activateState == 'ban'">
      <span ng-if="column.banUntil > 0">ç”±äºè¿å<a href="https://www.zhihu.com/question/41623362/answer/91706213" target="_blank">çŸ¥ä¹ä¸“æ è§„èŒƒ</a>ï¼Œè¯¥ä¸“æ æš‚æ—¶å¤„äºç¦æ­¢æ›´æ–°çŠ¶æ€ï¼Œ{{column.banUntil}} æ—¥åå°†æ¢å¤æ­£å¸¸ä½¿ç”¨ã€‚</span>
      <span ng-if="column.banUntil <= 0">ç”±äºä¸¥é‡è¿å<a href="https://www.zhihu.com/question/41623362/answer/91706213" target="_blank">çŸ¥ä¹ä¸“æ è§„èŒƒ</a>ï¼Œè¯¥ä¸“æ å·²è¢«ç¦æ­¢æ›´æ–°ã€‚</span>
    </div>

    <div class="tags" ng-if="!currentAuthor && column.postTopics.length">
      <span ng-click="filterTopic()" class="tag" ng-class="!currentTopic && 'current'"><b>å…¨éƒ¨</b>{{column.postsCount}}</span>
      <span ng-if="isShowMoreTopics">
        <span ng-click="filterTopic(topic)" class="tag" ng-class="currentTopic == topic && 'current'" ng-repeat="topic in column.postTopics"><b>{{topic.name}}</b>{{topic.postsCount}}</span>
      </span>
      <span ng-if="!isShowMoreTopics">
        <span ng-click="filterTopic(topic)" class="tag" ng-class="currentTopic == topic && 'current'" ng-repeat="topic in column.postTopics | limitTo: 3"><b>{{topic.name}}</b>{{topic.postsCount}}</span>
        <span ng-click="showMoreTopics()" ng-if="column.postTopics.length > showTopicNum" class="more">æ›´å¤š</span>
      </span>
    </div>
  </div>

  <div class="column-breadcrumb" ng-if="currentAuthor">
    <a href="/{{column.slug}}">å…¨éƒ¨</a>
    <span class="arrow"><i class="icon-ic_unfold"></i></span>
    <span class="author"><img class="avatar avatar-small" alt="" ng-src="{{currentAuthor.avatar | avatarUrl:36}}">{{currentAuthor.name}} çš„æ–‡ç« </span>
  </div>

  <div class="list-empty" ng-show="!postsSource.pending && !posts.length && !recommendPosts.length">
    <div class="posts-end"><i class="icon-ic_column_end"></i></div>
    <i class="icon-show icon-ic_column_no_article"></i>
    <p>{{postsSource.error && 'æœåŠ¡å™¨æäº†ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç¨å€™å†è¯•ã€‚' || 'å°šæœªå‘å¸ƒè¿‡æ–‡ç« '}}</p>
    <a href="/write" class="btn btn-blue btn-100_36" ng-if="column.canPost && !postsSource.error">å¼€å§‹å†™æ–‡ç« </a>
  </div>

  <div class="editor-choices-container" ng-if="recommendPosts.length" ng-show="feedInited">
    <ui-block-title>ç½®é¡¶æ–‡ç« </ui-block-title>
    <ul class="editor-choices-items">
      <ui-post-item ng-repeat="post in recommendPosts | limitTo : 1" post="post" type="wide" column="column">
    </ul>
  </div>

  <div class="items-container" ui-infinite="" data-source="postsSource" ng-if="postsSource" ng-hide="!postsSource.pending && !posts.length && !recommendPosts.length">
    <ui-block-title ng-show="posts.length" ng-if="!currentAuthor">{{currentTopic ? currentTopic.name : 'æœ€æ–°æ–‡ç« '}}</ui-block-title>

    <ul class="items" ng-show="posts.length">
      <ui-post-item ng-repeat="post in posts track by $index" post="post" column="column">
    </ul>

    <div class="posts-end" ng-show="posts.length && postsSource.completed"><i class="icon-ic_column_end"></i></div>
  </div>

</div>


<div class="pop-panel column-author-request fx-item-hide" ng-if="!column.canPost && column.activateAuthorRequested != 'none'">
  <div class="pop-panel-title">é‚€è¯·</div>
  <div class="pop-panel-content" ng-if="!showActivateAuthorSuccess">
    ä½ å—é‚€æˆä¸ºè¯¥ä¸“æ {{authorType[column.activateAuthorRequested][0]}}ï¼Œ{{authorType[column.activateAuthorRequested][1]}}ã€‚
  </div>
  <div class="pop-panel-content empty" ng-if="showActivateAuthorSuccess">
    <i class="icon-ic_prompt_done notice-success"></i>
    ä½ å·²æˆä¸ºè¯¥ä¸“æ çš„{{authorType[column.activateAuthorRequested][0]}}
  </div>
  <div class="pop-panel-buttons" ng-if="!showActivateAuthorSuccess">
    <button class="btn btn-grey-link cancel" ng-click="dismissActiveAuthor()">å¿½ç•¥</button>
    <button class="btn btn-blue" ng-click="activateAuthor(column)">é€šè¿‡</button>
  </div>
</div>



<div class="modal-dialog transfer-dialog" ui-dialog="" open="ownColumn() && column.activateState == 'frozen'">
  <div class="modal-dialog-title"></div>
  <div class="modal-dialog-content" ng-include="" src="'/views/column-transfer.html'">
  </div>
  <div class="modal-dialog-buttons"></div>
</div>

<div class="modal-dialog welcome-dialog" ui-dialog="" open="ownColumn() && column.firstTime">
  <div class="modal-dialog-content">
    <h6>æ¬¢è¿ï¼Œä½ çš„ä¸“æ å·²åˆ›å»º</h6>
    <div class="description">
      æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥å‰å¾€ã€Œç®¡ç†ä¸“æ ã€é¡µé¢è®¾ç½®ä½ çš„ä¸“æ å“ç‰Œï¼Œæˆ–è€…é‚€è¯·å¿—åŒé“åˆçš„æœ‹å‹ä¸€èµ·æ¥å†™ä½œã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç°åœ¨å°±å¼€å§‹å†™æ–‡ç« ã€‚ï¼šï¼‰
    </div>
    <a href="/{{column.slug}}/settings" class="btn btn-blue go-setting" ng-click="arrived()">å‰å¾€ä¸“æ è®¾ç½® Â»</a>
    <button class="btn btn-grey-link skip" ng-click="arrived()">è·³è¿‡</button>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/post-view.html">
<div class="main receptacle post-view" ng-class="post.isTitleImageFullScreen && winType != 'small' && !isCensoring && 'full-screen-cover'" ng-if="!notFound" data-za-module="PostItem">

  <article class="entry" ui-lightbox="">
    <header>
      <div class="entry-title-image" ng-if="post.titleImage && !isCensoring" ng-switch="!!(post.titleImageSize.width || (winType != 'small' && post.isTitleImageFullScreen))">
        <div ng-switch-when="true" class="img" ng-style="{'background-image': 'url({{post.titleImage}})', 'height': (winType == 'small' || !post.isTitleImageFullScreen) ? (winSize * post.titleImageSize.height / post.titleImageSize.width + 'px' ) : '' }"></div>
        <img ng-switch-when="false" ng-src="{{post.titleImage}}">
      </div>

      <div class="placeholder"></div>

      <h1 class="{{'multiline' + titleLine + ' entry-title'}}">{{post.title}}</h1>

      <div class="entry-meta">
        <a target="_blank" href="{{post.author.profileUrl}}" class="author name">
          <img ng-src="{{post.author.avatar | avatarUrl:36}}" alt="{{author.name}}" class="avatar-small">{{post.author.name}}
        </a>
        <ui-badge is-org="post.author.isOrg" badge="post.author.badge" size="14"></ui-badge>
        <span class="bull">Â·</span>
        <time ui-time="" datetime="{{post.publishedTime}}" class="published"></time>
      </div>
    </header>

    <div class="entry-warning" ng-if="isCensoring" ng-class="{'with-arrow': ownPost(post)}">
      <div class="title">
        {{post.stateText}}
      </div>
      <div class="text-muted" ng-switch="ownPost(post)">
        <span ng-switch-when="true">å»ºè®®ä¿®æ”¹æœŸé—´ï¼Œæ–‡ç« å†…å®¹å¯¹å…¶ä»–ç”¨æˆ·ä¸å¯è§ã€‚ä¿®æ”¹æäº¤åä¼šè‡ªåŠ¨è¿›å…¥è¯„ä¼°çŠ¶æ€ã€‚</span>
        <span ng-switch-when="false">ä½œè€…ä¿®æ”¹å†…å®¹é€šè¿‡åï¼Œæ–‡ç« ä¼šé‡æ–°æ˜¾ç¤ºã€‚</span>
      </div>
      <a target="_blank" href="https://www.zhihu.com/question/24752645" class="help icon-ic_help"></a>
    </div>

    <section class="entry-content" ng-bind-html="postContentTrustedHtml" ui-copyright-check="" data-entry-url="{{post.url}}" data-author-name="{{post.author.name}}" ng-if="ownPost(post) || !isCensoring"></section>

    <footer>
      <ui-tipjar ng-if="!forceHideTipjar && !isCensoring && (post.tipjarState == 'activated' || (ownPost(post) && post.tipjarState != 'closed' && !me.isOrg))"></ui-tipjar>

      <div class="entry-exinfo clearfix" ng-if="isPublished">
        <p class="reviewers" ng-if="post.reviewers" ng-class="{'can-see': ownPost(post)}">
          <span ng-if="!showAllReviewer" ng-repeat="user in post.reviewers | limitTo: 2">
            <a class="user" target="_blank" href="{{user.profileUrl}}" class="control-item">{{user.name}}</a>
          </span>
          <span ng-if="showAllReviewer" ng-repeat="user in post.reviewers">
            <a class="user" target="_blank" href="{{user.profileUrl}}" class="control-item">{{user.name}}</a>
          </span>
          <a class="link" href="javascript:;" ng-click="handleReviewerClick()" ng-class="{nlink: showAllReviewer}">{{post.reviewers.length > 2 && !showAllReviewer ? 'ç­‰äººäº¦æœ‰å¸®åŠ©' : 'äº¦æœ‰å¸®åŠ©' }}</a>
        </p>

        <p class="tags" ng-if="post.topics.length" ng-class="{'full-screen': !post.reviewers.length}">
          <span class="tag" ng-repeat="topic in post.topics | limitTo:3">{{topic.name}}</span>
        </p>

      </div>

      <div class="entry-controls clearfix">
        <div class="right-section">
          <span class="post-share-button post-menu-button menu-button-no-arrow" ui-menu-button="" onbeforeopen="beforeShareMenuOpen()" ng-if="isPublished && !supportTouch">
            <a href="javascript:;" class="menu-button control-item share"><i class="icon-ic_column_share"></i>åˆ†äº«</a>
            <menu class="menu">
              <button ng-click="item.action($event)" class="menu-item" ng-repeat="item in shareMenuItems" ng-class="item.className">
                <i class="icon {{item.icon}}"></i>{{item.label}}
                <div class="extra" ng-if="item.html" ng-bind-html="item.html"></div>
              </button>
            </menu>
          </span>
          <span class="post-share-button post-menu-button" ng-if="supportTouch">
            <a href="javascript:;" ng-click="touchShare($event)" class="menu-button control-item share"><i class="icon-ic_column_share"></i>åˆ†äº«</a>
          </span>

          <a href="{{post.url}}/edit" class="control-item post-edit-button" ng-if="ownPost(post)"><i class="icon-ic_column_edit"></i>ç¼–è¾‘</a>

          <span class="post-options-button post-menu-button menu-button-no-arrow" ui-menu-button="" ng-if="ownPost(post)" toggle-delay="250">
            <a href="javascript:;" class="menu-button control-item options">
              <i class="icon-ic_column_more"></i><span class="hide-text">è®¾ç½®</span>
            </a>
            <menu class="menu">
              <a href="javascript:;" ng-click="removePost()" class="menu-item">åˆ é™¤æ–‡ç« </a>
              <a ng-if="!me.isOrg && !isCensoring && post.tipjarState == 'activated'" href="javascript:;" ng-click="disableTipjar()" class="menu-item tipjar-item">å…³é—­èµèµ</a>
              <a ng-if="!me.isOrg && !isCensoring && post.tipjarState != 'activated' && post.tipjarState != 'closed'" href="javascript:;" ng-click="enableTipjar()" class="menu-item tipjar-item">å¼€å¯èµèµ</a>
            </menu>
          </span>

          <a ng-if="!ownPost(post) && isPublished" ng-click="report(post)" href="javascript:;" class="control-item report"><i class="icon-ic_column_report"></i>ä¸¾æŠ¥</a>

        </div>

        <div class="left-section" ng-if="isPublished">
          <div class="votes">
            <a ng-if="!ownPost(post)" ng-click="post.toggleLike()" class="control-item" href="javascript:;" ng-class="{ active: post.rating == 'like' }"><i class="icon-ic_column_like"></i>{{post.likesCount}}</a>
            <a ng-if="ownPost(post)" class="control-item disabled" href="javascript:;"><i class="icon-ic_column_like"></i>{{post.likesCount}}</a>
          </div>
        </div>

        <div class="voters clearfix" ng-if="post.lastestLikers.length && !likers && isPublished">
          <a href="{{user.profileUrl}}" target="_blank" data-title="{{user.name}}" class="voter" ng-repeat="user in post.lastestLikers">
            <img ng-src="{{user.avatar | avatarUrl:26}}" alt="{{user.name}}" class="avatar avatar-xs">
          </a>
          <a href="/p/{{post.slug}}/voters" title="æŸ¥çœ‹å…¨éƒ¨" class="more-voters" ui-open-blank="" ng-if="post.lastestLikers.length < post.likesCount && !fetchLikersPending">
            <i class="icon-ic_like_more"></i>
          </a>
          <a class="more-voters" ng-if="fetchLikersPending">
            <div ui-spinner="" class="half"></div>
          </a>
        </div>
        <div class="voters clearfix" ng-if="likers && isPublished">
          <a href="{{user.profileUrl}}" target="_blank" data-title="{{user.name}}" class="voter" ng-repeat="user in likers track by $index">
            <img ng-src="{{user.avatar | avatarUrl:26}}" alt="{{user.name}}" class="avatar avatar-xs">
          </a>
        </div>

      </div>


      <div ng-include="'/views/post-includes.html'" class="included included-pc fx-item-fade" ng-if="contributes.length && isPublished">
      </div>

      <div id="comments" class="entry-comments post-comments" ui-post-comments="" comments-placeholder="{{commentsPlaceholder}}" comment-need-review="commentNeedReview" comments-href="post.links.comments" comments-expanded="true" comments-post-owner="post.author" comments-status="commentsStatus" ng-if="isPublished && !isQQNews" comments-style="pagination" locate-comment-id="locateCommentId"></div>

      <div ng-include="'/views/post-includes.html'" class="included included-mobile fx-item-fade" ng-if="contributes.length && isPublished">
      </div>

    </footer>
  </article>


</div>

<div class="server-error-container" ng-if="notFound">
  <div class="error-code">404</div>
  <div class="error-description">æŠ±æ­‰ï¼Œæ²¡æœ‰æ‰¾åˆ°è¯¥é¡µé¢</div>
  <div class="discover">
    <a class="btn btn-blue btn-lg" href="/">è¿”å›ä¸“æ  Â· å‘ç° Â»</a>
  </div>
</div>

<div class="recommend-posts" ng-if="isPublished && (!userColumn || isContributesAvailable())">
  <div class="receptacle" ng-switch="recommendPending">
    <ui-block-title>æ¨èé˜…è¯»</ui-block-title>

    <span ng-switch-when="true"><div ui-spinner="" class="small"></div></span>

    <ul ng-switch-when="false" class="recommend-post-list">
      <ui-post-item ng-repeat="post in recommendPosts" post="post" type="narrow" show-source="true" show-recommend="post.showRecommend">
    </ul>

  </div>
</div>



<div class="contribute-requests-container" ng-if="contributeRequests" ng-class="{merge : contributeRequests.length && showReviewPanel, hide:contributeRequests.done}">
  <div class="pop-panel" ng-repeat="request in contributeRequests" ng-class="{'hide': request.done}">
    <div class="pop-panel-title">æŠ•ç¨¿å®¡é˜… <span class="step" ng-if="contributeRequests.length > 1">{{contributeRequests.length - $index}}/{{contributeRequests.length}}</span></div>
    <div class="pop-panel-content" ng-if="!request.success">
      <a href="{{request.targetPost.author.profileUrl}}" target="_blank">{{request.targetPost.author.name}}</a> ç”³è¯·å°†è¯¥æ–‡ç« å‘å¸ƒåˆ° <a href="/{{request.sourceColumn.slug}}" target="_blank">{{request.sourceColumn.name}}</a> ã€‚
    </div>
    <div class="pop-panel-content empty" ng-if="request.success">
      <i class="icon-ic_prompt_done notice-success"></i>
      å·²æ”¶å½•è¯¥æ–‡ç« ã€‚
    </div>
    <div class="pop-panel-buttons" ng-if="!request.success">
      <span class="btn btn-grey-link cancel" ng-click="dismissContributeReq(request, $index)">å¿½ç•¥</span>
      <span class="btn btn-blue" ng-click="approveContributeReq(request, $index)">é€šè¿‡</span>
    </div>
  </div>
</div>


<div ng-include="" class="review-comment-container" src="'/views/review-comment-panel.html'" ng-if="showReviewPanel" ng-class="{merge: contributeRequests.length && showReviewPanel  && !contributeRequests.done, published: post.state == 'published'}"></div>
</script>

<script type="text/ng-template" id="/views/post-voters.html">
<div class="main receptacle column-followers-main">

  <h2 class="page-title ellipsis" ng-if="voters.length">{{post.likesCount}} äººèµäº† {{post.title}}</h2>

  <div ui-infinite="" data-source="source">

    <p class="items-empty" ng-show="!source.pending && !voters.length">
      <i class="icon" ng-class="{true: 'icon-error-500', false: 'icon-no-article'}[source.error]"></i>
      {{source.error && 'æœåŠ¡å™¨æäº†ä¸€ä¸ªé—®é¢˜ï¼Œè¯·ç¨å€™å†è¯•ã€‚' || 'è¿˜æ²¡æœ‰äººèµ'}}
    </p>

    <ul class="column-followers clearfix">
      <ui-user-item ng-repeat="user in voters" user="user">
    </ul>

  </div>

</div>
</script>

<script type="text/ng-template" id="/views/post-write.html">
<div class="main post-write" ng-form="postForm" ng-class="{'full-screen-cover': draft.isTitleImageFullScreen}">
  <section class="receptacle">

  <div id="js-title-img" class="title-img" ui-droppable="" ng-class="{'has-img': draft.titleImage}">

    <div class="upload-controls" data-file-upload="fileuploadOptions" ng-class="{'empty': !draft.titleImage}">
      <div class="preview-wrapper fileinput-button" ng-show="!active()">

        <div class="entry-title-image" ng-if="draft.titleImage && draft.isTitleImageFullScreen">
          <div ng-if="draft.titleImage" class="img" ng-style="{'background-image': 'url(' + draft.titleImage + ')'}"></div>
        </div>

        <img ng-show="draft.titleImage" class="preview" ng-src="{{draft.titleImage}}" ng-if="!draft.isTitleImageFullScreen">
        <i class="upload-icon icon-ic_phot_camera_alt" ng-show="!draft.titleImage"></i>
        <input type="file" accept=".jpeg, .jpg, .png" name="upload_file" id="js-title-img-input">
      </div>

      <div class="ui-progress centered" ng-if="active()">
        <div class="bar" ng-style="{width: num + '%'}" data-file-upload-progress="progress()"></div>
      </div>

      <div class="img-edit-options" ng-show="!active() && draft.titleImage">
        <button class="action-button toggle fileinput-button" ng-click="toggleFullScreen()" ng-if="draft.canTitleImageFullScreen">
          <i ng-if="draft.isTitleImageFullScreen" class="icon-ic_phot_full_screen2"></i>
          <i ng-if="!draft.isTitleImageFullScreen" class="icon-ic_phot_full_screen1"></i>
          <span class="hidden">æ›´æ”¹å¤§å°</span>
        </button>
        <button class="action-button change fileinput-button" onclick="angular.element('#js-title-img-input').click()">
          <i class="icon-ic_phot_camera_alt"></i>
          <span class="hidden">æ›´æ¢</span>
        </button>
        <button class="action-button delete" ui-confirm="deleteTitleImage()" confirm-message="ç¡®å®šåˆ é™¤é¢˜å›¾ï¼Ÿ">
          <i class="icon-ic_phot_delete"></i>
          <span class="hidden">åˆ é™¤</span>
        </button>
      </div>
    </div>
  </div>
  <div class="title-input-container">
    <textarea id="js-textarea" ui-textarea-autogrow="" required="" ng-model="draft.title" name="title" class="title" ui-placeholder="è¯·è¾“å…¥æ ‡é¢˜" ui-tab-trigger="" autofocus="" word-min="2" word-max="{{maxTitleCount}}"></textarea>
  </div>

  <div id="js-editor-toolbar" class="toolbar-holder" ui-sticky="" data-align="bottom" ng-attr-data-target="{{isTitleImageFullScreen ?'#js-title-img-input' : '#js-textarea'}}" margin="59"></div>

  </section>

  <div class="editable-container">
    <div id="js-entry-content" class="entry-content editable" ng-model="draft.content" name="content" contenteditable="true" holdertext="è¯·è¾“å…¥æ­£æ–‡" content-required="" ui-clean-paste="" ui-scraper="" ui-mention="" ui-events="{input:'onContentChange($event)', focus: 'onContentFocus($event)'}" ui-editor="" editor-toolbar="js-editor-toolbar" word-min="2"></div>
    <div ui-popover="" popover-options="{container:'#js-entry-content', selector: 'img:not([eeimg])'}">
      <div class="img-edit-options">
        <button class="action-button delete" ui-confirm="removeAnchor()" confirm-message="ç¡®å®šåˆ é™¤è¯¥å›¾ç‰‡ï¼Ÿ">
          <i class="icon-ic_phot_delete"></i>
          <span class="hidden">åˆ é™¤</span>
        </button>
      </div>
    </div>
  </div>

</div>

<div class="publish-section">
  <ng-include src="'/views/write/publish.html'"></ng-include>
  <ui-review-button ng-if="draft.id && draft.state != 'published'" postid="draft.id" draft="draft" ui-open="handlePanelOpen()" ui-close="handlePanelClose()"></ui-review-button>
</div>


<ng-include src="'/views/review-comment-panel.html'" ng-if="showReviewCommentPanel">
</script>

<script type="text/ng-template" id="/views/review-comment-panel.html">
<div class="review-comment-panel" ng-controller="ReviewCommentCtrl" ng-class="{fold: fold, published: post.state == 'published'}">
  <div ng-click="handleToggle()" class="pop-panel-title">è‰ç¨¿è¯„è®º</div>
  <span ng-if="post.state != 'published'" ng-click="handleToggle()" class="toggle"><i class="icon-ic_unfold"></i></span>
  <span ng-if="post.state == 'published'" ng-click="handlePanelClose()" class="close"><i class="icon-ic_close"></i></span>
  <div class="pop-panel-content">
    <p class="description">æ–‡ç« å‘è¡¨åè‰ç¨¿è¯„è®ºä»…æ–‡ç« ä½œè€…å¯è§</p>
    <div id="comments" class="entry-comments" ui-post-comments="" comments-href="commentsHref" comments-expanded="true" comments-post-owner="post.author || draft.author || me" comments-status="commentsStatus" ng-if="!isCensoring" comments-placeholder="å†™ä¸‹ä½ çš„è¯„è®º" time-style="short" disable-scraper="true"></div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/user-item.html">
<li class="ui-user-item" class="clearfix">
  <a href="{{user.profileUrl}}" target="_blank" class="user-avatar">
    <img class="avatar avatar-mid" ng-src="{{user.avatar | avatarUrl:48}}" alt="">
  </a>
  <div class="user-intro">
    <a href="{{user.profileUrl}}" target="_blank">
      <strong>{{user.name}}</strong>
    </a>
    <span ng-if="comment.author.isOrg" class="OrgBadge z-ico-badge16" ui-hover-title="å·²è®¤è¯çš„æœºæ„"></span>
    <span ng-if="user.bio" class="bio">{{user.bio}}</span>
  </div>
  <div class="posts-count" ng-if="column">
    <a ng-if="user.postsCount" href="/{{column.slug}}?author={{user.slug}}">{{user.postsCount}} ç¯‡æ–‡ç« </a>
    <span class="empty" ng-if="!user.postsCount">{{user.postsCount}} ç¯‡æ–‡ç« </span>
  </div>
</li>
</script>

<script type="text/ng-template" id="/views/navbar/login.html">
<a href="javascript:;" class="navbar-login btn btn-blue btn-72_32" ng-click="showLoginDialog()">
  ç™»å½•
</a>
</script>

<script type="text/ng-template" id="/views/navbar/menu.html">
<div class="navbar-menu-container" ui-menu-button="" ui-disabled="disableMenu">
  <a href="javascript:;" class="menu-button" aria-label="æ›´å¤šé€‰é¡¹">
    <i class="icon-ic_nav_more"></i>
  </a>
  <menu class="menu navbar-menu">
    <a ng-click="handleGoColumn()" class="menu-item my-column" href="{{column.url}}" ng-repeat="column in me.columns">
      <img class="avatar avatar-small" ng-src="{{column.avatar | avatarUrl:36}}">{{column.name}}
    </a>
    <hr ng-if="me.columns.length">
    <a ng-if="inWrite && draftId" class="menu-item" href="javascript:;" ng-click="goWrite()">å†™æ–‡ç« </a>
    <a class="menu-item" href="/drafts">è‰ç¨¿</a>
    <a class="menu-item" href="//www.zhihu.com/people/{{me.slug}}/posts" target="_blank">æˆ‘çš„æ–‡ç« </a>
    <a ng-if="!inIndex" class="menu-item" href="/">ä¸“æ  Â· å‘ç°</a>
    <hr ng-if="inWrite && !hideDelete">
    <a ng-if="inWrite && !hideDelete" class="menu-item menu-item-delete" href="javascript:;" ui-confirm="deleteDraft()" confirm-message="ç¡®è®¤åˆ é™¤è¯¥è‰ç¨¿ï¼Ÿ"><i class="icon-ic_phot_delete"></i>åˆ é™¤è‰ç¨¿</a>
  </menu>
</div>
</script>

<script type="text/ng-template" id="/views/navbar/write.html">
<div class="navbar-write-container">
  <a href="javascript:;" ng-click="goWrite()">
    <i class="icon-ic_nav_new"></i>å†™æ–‡ç« 
  </a>
</div>
</script>

<script type="text/ng-template" id="/views/settings/nav.html">
<div class="tabs-nav clearfix" ng-controller="ColumnEditNavCtrl">
  <a href="{{column.url}}/settings/posts" ng-class="current=='posts' && 'active'" class="tabs-anchor">æ–‡ç« <sub ng-if="newPostNum">{{newPostNum}}</sub></a>
  <a ng-if="column.acceptSubmission" href="{{column.url}}/settings/contributes" ng-class="current=='contributes' && 'active'" class="tabs-anchor">æŠ•ç¨¿é€šçŸ¥<sub ng-if="newContributeNum">{{newContributeNum}}</sub></a>
  <a href="{{column.url}}/settings/authors" ng-class="current=='authors' && 'active'" class="tabs-anchor">ç¼–è¾‘/ä½œè€…</a>
  <a href="{{column.url}}/settings" ng-class="current=='settings' && 'active'" class="tabs-anchor" ng-if="column.creator.slug == me.slug">è®¾ç½®</a>
</div>
</script>

<script type="text/ng-template" id="/views/write/publish.html">
<div class="navbar-publish-container" ng-controller="PublishCtrl">
  <div ui-pop-panel="" ui-open="handlePanelOpen()" ui-close="handlePanelClose()">
    <a href="javascript:;" class="pop-button" ng-disabled="!canPublish">
      {{getTitle()}}
    </a>
    <div class="pop-panel publish-pop-panel">
      <div class="pop-panel-title">{{getTitle()}}æ–‡ç« </div>

      <div class="pop-panel-content" ng-show="stage === 'topics'">
        <div class="description">ç»‘å®šåˆé€‚çš„è¯é¢˜ï¼Œèƒ½æ–¹ä¾¿åˆ†ç±»æ£€ç´¢ï¼Œæ–‡ç« ä¹Ÿæ›´å®¹æ˜“è®©è¯»è€…å‘ç°ã€‚</div>
        <div class="tag-suggestion-container" ui-tag-input="" ng-model="draft.topics" holdertext="æœç´¢è¯é¢˜..." max-tags="3" after-select="afterSelect(tag)" suggest-options="suggestOptions">
        </div>
      </div>

      <div class="pop-panel-content" ng-show="stage === 'column'">
        <div class="publish-column-item" ng-if="draft.state == 'reviewing'">
          <label>
            <span>æ’¤é”€æŠ•é€’</span>
            <input ng-model="selectedColumn.slug" name="column" type="radio" value="-1" class="mui-radio">
          </label>
        </div>
        <!-- <div class="publish-column-sep">å‘å¸ƒåˆ°</div> -->
        <div class="publish-column-item publish-column-item-tocollection">
          <label>
            <span class="title">ä¸å‘å¸ƒåˆ°ä¸“æ </span><span class="description">å°†å‘å¸ƒåˆ°ä¸ªäººä¸»é¡µçš„ã€Œæ–‡ç« ã€æ ç›®ä¸‹</span>
            <input ng-model="selectedColumn.slug" name="column" type="radio" value="0" class="mui-radio">
          </label>
        </div>
        <div class="publish-column-item" ng-if="canSubmitColumn.length" ng-repeat="column in canSubmitColumn">
          <label>
            <img class="avatar avatar-small" alt="" ng-src="{{column.avatar | avatarUrl: 36}}">{{column.name}}
            <input ng-model="selectedColumn.slug" name="column" type="radio" value="{{column.slug}}" class="mui-radio">
          </label>
        </div>
      </div>

      <div class="pop-panel-content" ng-show="stage === 'comments'">
        <div class="publish-column-item publish-column-item-tocollection">
          <label>
            <span class="title">å¼€æ”¾è¯„è®º</span><span class="description">æ‰€æœ‰è¯„è®ºå…¬å¼€æ˜¾ç¤º</span>
            <input ng-model="$parent.commentPermission" name="commentPermission" type="radio" value="anyone" class="mui-radio">
          </label>
        </div>
        <div class="publish-column-item publish-column-item-tocollection">
          <label>
            <span class="title">é¢„å®¡è¯„è®º</span><span class="description">è¯„è®ºç”±æ‚¨ç­›é€‰åå…¬å¼€æ˜¾ç¤º</span>
            <input ng-model="$parent.commentPermission" name="commentPermission" type="radio" value="review" class="mui-radio">
          </label>
        </div>
        <div class="publish-column-item publish-column-item-tocollection">
          <label>
            <span class="title">å…³é—­è¯„è®º</span><span class="description">æ‰€æœ‰äººéƒ½ä¸èƒ½æäº¤è¯„è®º</span>
            <input ng-model="$parent.commentPermission" name="commentPermission" type="radio" value="none" class="mui-radio">
          </label>
        </div>
      </div>

      <div class="pop-panel-buttons" ng-show="!showSuccess">
        <button class="btn btn-grey-link fleft" ng-if="!stageController.isFirst()" ng-click="backStep($event)">è¿”å›</button>
        <button class="btn btn-blue" ng-disabled="!canSubmit" ng-click="canSubmit && submit()">
          {{submitBtnText}}
        </button>
      </div>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="/views/write/review.html">
<div class="navbar-review-container">
  <div ui-pop-panel="" ui-open="handleReviewOpen()" ui-close="handleReviewClose()" ng-click="handleRootClick($event)">
    <a href="javascript:;" class="pop-button">
      <i class="icon-ic_nav_review"></i>é‚€è¯·é¢„è§ˆ
    </a>
    <div class="pop-panel review-pop-panel">
      <div class="pop-panel-title">é‚€è¯·</div>

      <div class="pop-panel-content empty" ng-show="showSuccess">
        <i class="icon-ic_prompt_done notice-success"></i>
        {{selectedColumn || selectedFriends.length ? 'é¢„è§ˆé‚€è¯·å·²å‘é€ã€‚' : 'å·²å–æ¶ˆé¢„è§ˆé‚€è¯·ã€‚'}}
      </div>

      <div class="pop-panel-content" ng-show="!showSuccess">
        <div class="invite-column" ng-if="showColumn">
          <p class="sub-description">é‚€è¯·ä¸“æ ç¼–è¾‘æˆ–å¥½å‹æ¥é¢„è§ˆè¿™ç¯‡è‰ç¨¿ï¼Œä»–ä»¬å°†å¯é€šè¿‡è‰ç¨¿è¯„è®ºç»™å‡ºæ„è§ã€‚</p>
          <p class="description">ä½ æ‰€åœ¨ä¸“æ çš„ç¼–è¾‘</p>
          <div class="column-add" ng-click="handleAddReviewColumn($event)" ng-class="selectedColumn ? 'user-simple-card' : ''" data-title="{{selectedColumn.name}}">
            <span class="add-button" ng-class="selectedColumn ? 'remove' : 'add'">
              <img alt="" ng-src="{{selectedColumn.avatar | avatarUrl:36}}" ng-if="selectedColumn" class="avatar-small">
            </span>
          </div>
          <div class="ui-suggest" ng-show="showAvailableColumn">
            <p class="row-title no-column" ng-if="!myAvailableColumns.length">ä½ æ²¡æœ‰å¯ä»¥é‚€è¯·çš„ä¸“æ ã€‚</p>
            <div class="row" ng-repeat="column in myAvailableColumns" ng-click="handleSelectReviewColumn(column)">
              <img class="avatar-small" ng-src="{{column.avatar | avatarUrl:36}}">{{column.name}}
            </div>
          </div>
        </div>
        <div class="invite-friends" ng-class="{'no-column': myAvailableColumns && !myAvailableColumns.length}">
          <p class="sub-description" ng-if="!showColumn">é‚€è¯·å¥½å‹æ¥é¢„è§ˆè¿™ç¯‡è‰ç¨¿ï¼Œä»–ä»¬å°†å¯é€šè¿‡è‰ç¨¿è¯„è®ºç»™å‡ºæ„è§ã€‚</p>
          <p class="description" ng-class="{'unfold': showSelectFriends,'fold': !showSelectFriends, 'normal': !showColumn}" ng-click="showColumn && toggleFriends($event)">ç›¸äº’å…³æ³¨çš„çŸ¥ä¹å¥½å‹<i ng-if="showColumn" class="icon-ic_unfold"></i></p>
          <div class="invited-friends-list" ng-show="showSelectFriends || !showColumn">
            <span class="user-wrapper user-simple-card" data-title="{{user.name}}" ng-repeat="user in selectedFriends">
              <span class="user remove" ng-click="removeReviewUser(user, $index, $event)">
                <img alt="{{user.name}}" ng-src="{{user.avatar | avatarUrl:36}}" class="avatar-small">
              </span>
            </span>
            <span ng-if="selectedFriends.length < 10" class="add-button" ng-click="handleAddFriends()"></span>
          </div>
          <div class="ui-suggest mui-container-search" ng-show="showSuggestFriends">
            <input ui-suggest="" type="text" placeholder="æœç´¢ç›¸äº’å…³æ³¨çš„å¥½å‹" suggest-options="suggestOptions" class="mui-input mui-nborder">
          </div>
        </div>
      </div>
      <div class="pop-panel-buttons" ng-show="!showSuccess">
        <button class="btn btn-blue" ng-disabled="!canSubmit" ng-click="canSubmit && submit()">ç¡®å®š</button>
      </div>
    </div>
  </div>
</div>
</script>
<!-- End Templates -->


<div></div><script async="" src="./install-config-php-apache_files/zap.js"></script></body></html>